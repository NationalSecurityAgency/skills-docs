<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuration | SkillTree Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/skilltree.ico">
    <meta name="description" content="Innovative approach to application training!">
    
    <link rel="preload" href="/assets/css/0.styles.518d6d1a.css" as="style"><link rel="preload" href="/assets/js/app.2efbea58.js" as="script"><link rel="preload" href="/assets/js/2.831a0a5f.js" as="script"><link rel="preload" href="/assets/js/71.ff273e66.js" as="script"><link rel="preload" href="/assets/js/49.48804d32.js" as="script"><link rel="preload" href="/assets/js/51.c41d2d4e.js" as="script"><link rel="preload" href="/assets/js/67.afd27d06.js" as="script"><link rel="preload" href="/assets/js/68.6a5d4960.js" as="script"><link rel="preload" href="/assets/js/69.ec0fda02.js" as="script"><link rel="preload" href="/assets/js/70.8d20d5c0.js" as="script"><link rel="preload" href="/assets/js/61.84a5d346.js" as="script"><link rel="prefetch" href="/assets/js/10.0a11b5c5.js"><link rel="prefetch" href="/assets/js/100.8a01dfef.js"><link rel="prefetch" href="/assets/js/101.b37aac98.js"><link rel="prefetch" href="/assets/js/102.523a1477.js"><link rel="prefetch" href="/assets/js/103.9f95df78.js"><link rel="prefetch" href="/assets/js/104.27dc5bbd.js"><link rel="prefetch" href="/assets/js/105.6461bf62.js"><link rel="prefetch" href="/assets/js/106.2d050e37.js"><link rel="prefetch" href="/assets/js/107.95664c0c.js"><link rel="prefetch" href="/assets/js/108.353222ca.js"><link rel="prefetch" href="/assets/js/109.8a86fa59.js"><link rel="prefetch" href="/assets/js/11.b34695aa.js"><link rel="prefetch" href="/assets/js/110.76ff954a.js"><link rel="prefetch" href="/assets/js/111.4e0a1b95.js"><link rel="prefetch" href="/assets/js/12.fa149acb.js"><link rel="prefetch" href="/assets/js/13.6e63764d.js"><link rel="prefetch" href="/assets/js/14.607b7efd.js"><link rel="prefetch" href="/assets/js/15.dd4261e3.js"><link rel="prefetch" href="/assets/js/16.ed8b39a6.js"><link rel="prefetch" href="/assets/js/17.0eb49365.js"><link rel="prefetch" href="/assets/js/18.1a6ef054.js"><link rel="prefetch" href="/assets/js/19.6870bcab.js"><link rel="prefetch" href="/assets/js/20.7db2d441.js"><link rel="prefetch" href="/assets/js/21.0a3ddedf.js"><link rel="prefetch" href="/assets/js/22.c478ad3b.js"><link rel="prefetch" href="/assets/js/23.6dcccc4f.js"><link rel="prefetch" href="/assets/js/24.d68b0b50.js"><link rel="prefetch" href="/assets/js/25.aaa47512.js"><link rel="prefetch" href="/assets/js/26.258348da.js"><link rel="prefetch" href="/assets/js/27.191d3c35.js"><link rel="prefetch" href="/assets/js/28.d62018ed.js"><link rel="prefetch" href="/assets/js/29.4d510f6e.js"><link rel="prefetch" href="/assets/js/3.7b7f31a9.js"><link rel="prefetch" href="/assets/js/30.3bc59f76.js"><link rel="prefetch" href="/assets/js/31.4d9612de.js"><link rel="prefetch" href="/assets/js/32.d7cc8843.js"><link rel="prefetch" href="/assets/js/33.96627541.js"><link rel="prefetch" href="/assets/js/34.5bc2689e.js"><link rel="prefetch" href="/assets/js/35.04bc250c.js"><link rel="prefetch" href="/assets/js/36.135ac29b.js"><link rel="prefetch" href="/assets/js/37.430edb7e.js"><link rel="prefetch" href="/assets/js/38.67f66f39.js"><link rel="prefetch" href="/assets/js/39.3e95664f.js"><link rel="prefetch" href="/assets/js/4.55be428a.js"><link rel="prefetch" href="/assets/js/40.0699775e.js"><link rel="prefetch" href="/assets/js/41.18b65472.js"><link rel="prefetch" href="/assets/js/42.00d76009.js"><link rel="prefetch" href="/assets/js/43.a6ffe4a0.js"><link rel="prefetch" href="/assets/js/44.e41682c7.js"><link rel="prefetch" href="/assets/js/45.03f6b708.js"><link rel="prefetch" href="/assets/js/46.57a43203.js"><link rel="prefetch" href="/assets/js/47.57556875.js"><link rel="prefetch" href="/assets/js/48.78ddaed0.js"><link rel="prefetch" href="/assets/js/5.323734b3.js"><link rel="prefetch" href="/assets/js/50.a693ddbd.js"><link rel="prefetch" href="/assets/js/52.a5d2e4da.js"><link rel="prefetch" href="/assets/js/53.a74694f7.js"><link rel="prefetch" href="/assets/js/54.bc6c6243.js"><link rel="prefetch" href="/assets/js/55.56d71e72.js"><link rel="prefetch" href="/assets/js/56.68be53b4.js"><link rel="prefetch" href="/assets/js/57.a14f651b.js"><link rel="prefetch" href="/assets/js/58.4be1319a.js"><link rel="prefetch" href="/assets/js/59.7378975b.js"><link rel="prefetch" href="/assets/js/6.5f52893b.js"><link rel="prefetch" href="/assets/js/60.627b2147.js"><link rel="prefetch" href="/assets/js/62.e3f0f952.js"><link rel="prefetch" href="/assets/js/63.5a003e7a.js"><link rel="prefetch" href="/assets/js/64.6812d975.js"><link rel="prefetch" href="/assets/js/65.9ddc404e.js"><link rel="prefetch" href="/assets/js/66.f1a37e55.js"><link rel="prefetch" href="/assets/js/7.8538e057.js"><link rel="prefetch" href="/assets/js/72.c6065695.js"><link rel="prefetch" href="/assets/js/73.9296f431.js"><link rel="prefetch" href="/assets/js/74.26deac83.js"><link rel="prefetch" href="/assets/js/75.f1535402.js"><link rel="prefetch" href="/assets/js/76.6251b1d3.js"><link rel="prefetch" href="/assets/js/77.08d98e74.js"><link rel="prefetch" href="/assets/js/78.d0f2d39e.js"><link rel="prefetch" href="/assets/js/79.b93a128d.js"><link rel="prefetch" href="/assets/js/8.4b27f3ff.js"><link rel="prefetch" href="/assets/js/80.839fcdfc.js"><link rel="prefetch" href="/assets/js/81.3e4d1dc8.js"><link rel="prefetch" href="/assets/js/82.a3275752.js"><link rel="prefetch" href="/assets/js/83.8cd0b656.js"><link rel="prefetch" href="/assets/js/84.ab452216.js"><link rel="prefetch" href="/assets/js/85.1140a4bc.js"><link rel="prefetch" href="/assets/js/86.c63df36a.js"><link rel="prefetch" href="/assets/js/87.30e0792a.js"><link rel="prefetch" href="/assets/js/88.16406af2.js"><link rel="prefetch" href="/assets/js/89.b882c00e.js"><link rel="prefetch" href="/assets/js/9.5ee05544.js"><link rel="prefetch" href="/assets/js/90.6a396a43.js"><link rel="prefetch" href="/assets/js/91.111ca08b.js"><link rel="prefetch" href="/assets/js/92.856795f6.js"><link rel="prefetch" href="/assets/js/93.70d3dc11.js"><link rel="prefetch" href="/assets/js/94.b553efb5.js"><link rel="prefetch" href="/assets/js/95.fed6e80d.js"><link rel="prefetch" href="/assets/js/96.a3d369b5.js"><link rel="prefetch" href="/assets/js/97.cdc75fee.js"><link rel="prefetch" href="/assets/js/98.45801730.js"><link rel="prefetch" href="/assets/js/99.bee6aedc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.518d6d1a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">SkillTree Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/dashboard/install-guide/" class="nav-link router-link-active">
  Install Guide
</a></div><div class="nav-item"><a href="/dashboard/user-guide/" class="nav-link">
  Dashboard User Guide
</a></div><div class="nav-item"><a href="/skills-client/" class="nav-link">
  Integration Guide
</a></div><div class="nav-item"><a href="/contribution/" class="nav-link">
  Contribute
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/dashboard/install-guide/" class="nav-link router-link-active">
  Install Guide
</a></div><div class="nav-item"><a href="/dashboard/user-guide/" class="nav-link">
  Dashboard User Guide
</a></div><div class="nav-item"><a href="/skills-client/" class="nav-link">
  Integration Guide
</a></div><div class="nav-item"><a href="/contribution/" class="nav-link">
  Contribute
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/overview/" class="sidebar-link">Overview</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Install Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dashboard/install-guide/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/dashboard/install-guide/quickStart.html" class="sidebar-link">Quick Start</a></li><li><a href="/dashboard/install-guide/distributions.html" class="sidebar-link">Distributions</a></li><li><a href="/dashboard/install-guide/devInstall.html" class="sidebar-link">Development Installation</a></li><li><a href="/dashboard/install-guide/prodInstall.html" class="sidebar-link">Production Installation</a></li><li><a href="/dashboard/install-guide/config.html" aria-current="page" class="active sidebar-link">Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#how-to-configure-jar-based-install" class="sidebar-link">How to configure Jar-based install</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#how-to-configure-docker-based-install" class="sidebar-link">How to configure Docker-based install</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#configuration-properties-catalog" class="sidebar-link">Configuration Properties Catalog</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#dashboard-project-and-skill-definitions" class="sidebar-link">Dashboard Project and Skill Definitions</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#dashboard-user-account-thresholds-pass-auth-mode-only" class="sidebar-link">Dashboard: User Account Thresholds (Pass Auth Mode Only)</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#skilltree-documentation-link" class="sidebar-link">SkillTree Documentation Link</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#skilltree-support" class="sidebar-link">SkillTree Support</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#dashboard-input-validation" class="sidebar-link">Dashboard: Input Validation</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#latency-profiling" class="sidebar-link">Latency Profiling</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#database" class="sidebar-link">Database</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#websocket-stomp-broker" class="sidebar-link">WebSocket Stomp Broker</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#jvm-heap" class="sidebar-link">JVM Heap</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#gc-logging" class="sidebar-link">GC Logging</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#httpstore" class="sidebar-link">HttpStore</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#https-ssl-pass-auth-mode-only" class="sidebar-link">https SSL (Pass Auth Mode Only)</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#email-verification-pass-auth-mode-only" class="sidebar-link">Email Verification (Pass Auth Mode Only)</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#_2-way-ssl-pki-mode-only" class="sidebar-link">2-way SSL (PKI Mode Only)</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#user-info-service-pki-mode-only" class="sidebar-link">User Info Service (PKI Mode Only)</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#oauth-support-pass-auth-mode-only" class="sidebar-link">OAuth Support (Pass Auth Mode Only)</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#progress-and-ranking-views" class="sidebar-link">Progress and Ranking Views</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#upgrade-in-progress-state" class="sidebar-link">Upgrade-In-Progress State</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#private-invite-only-projects" class="sidebar-link">Private Invite Only Projects</a></li><li class="sidebar-sub-header"><a href="/dashboard/install-guide/config.html#spring-boot-properties" class="sidebar-link">Spring Boot Properties</a></li></ul></li></ul></li><li><a href="/dashboard/install-guide/installModes.html" class="sidebar-link">Installation Modes</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Dashboard User Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Integration Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Open Source Contributions</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Release Notes</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h1> <p>Out-of-the-box the SkillTree service (skills-service) comes packaged with smart defaults that are designed to work well for
development and prototyping. In this section we'll discuss how to configure each distribution type followed by the catalog of available options.</p> <p>There are two official types of distributions:</p> <ul><li>Jar-based: hosted on <span data-v-091bc8ab><a href="https://github.com/NationalSecurityAgency/skills-service/releases/latest" target="_blank" rel="noopener noreferrer" data-v-091bc8ab>GitHub <i aria-hidden="true" class="fas fa-external-link-alt" style="font-size: 0.8rem" data-v-091bc8ab></i></a></span></li> <li>Docker: hosted on <span data-v-091bc8ab><a href="https://hub.docker.com/r/skilltree/skills-service" target="_blank" rel="noopener noreferrer" data-v-091bc8ab>DockerHub <i aria-hidden="true" class="fas fa-external-link-alt" style="font-size: 0.8rem" data-v-091bc8ab></i></a></span></li></ul> <p>There are generally two types of configuration properties:</p> <ul><li><em>Application properties</em> - passed to the application</li> <li><em>JVM System properties</em> - passed to JVM via <code>-D</code> or <code>-X</code> on the command line</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Application properties conventions:</p> <ul><li>SkillTree specific properties start with a <strong>skills.</strong> prefix</li> <li>Spring Boot specific properties start with a <strong>spring.</strong> prefix
<ul><li>skills-service is a Spring Boot application</li></ul></li></ul></div> <p>Table of Contents:
</p><div class="table-of-contents"><ul><li><a href="#how-to-configure-jar-based-install">How to configure Jar-based install</a></li><li><a href="#how-to-configure-docker-based-install">How to configure Docker-based install</a></li><li><a href="#configuration-properties-catalog">Configuration Properties Catalog</a><ul><li><a href="#dashboard-project-and-skill-definitions">Dashboard Project and Skill Definitions</a></li><li><a href="#dashboard-user-account-thresholds-pass-auth-mode-only">Dashboard: User Account Thresholds (Pass Auth Mode Only)</a></li><li><a href="#skilltree-documentation-link">SkillTree Documentation Link</a></li><li><a href="#skilltree-support">SkillTree Support</a></li><li><a href="#dashboard-input-validation">Dashboard: Input Validation</a></li><li><a href="#latency-profiling">Latency Profiling</a></li><li><a href="#database">Database</a></li><li><a href="#websocket-stomp-broker">WebSocket Stomp Broker</a></li><li><a href="#jvm-heap">JVM Heap</a></li><li><a href="#gc-logging">GC Logging</a></li><li><a href="#httpstore">HttpStore</a></li><li><a href="#https-ssl-pass-auth-mode-only">https SSL (Pass Auth Mode Only)</a></li><li><a href="#email-verification-pass-auth-mode-only">Email Verification (Pass Auth Mode Only)</a></li><li><a href="#_2-way-ssl-pki-mode-only">2-way SSL (PKI Mode Only)</a></li><li><a href="#user-info-service-pki-mode-only">User Info Service (PKI Mode Only)</a></li><li><a href="#oauth-support-pass-auth-mode-only">OAuth Support (Pass Auth Mode Only)</a></li><li><a href="#progress-and-ranking-views">Progress and Ranking Views</a></li><li><a href="#upgrade-in-progress-state">Upgrade-In-Progress State</a></li><li><a href="#private-invite-only-projects">Private Invite Only Projects</a></li><li><a href="#spring-boot-properties">Spring Boot Properties</a></li></ul></li></ul></div><p></p> <h2 id="how-to-configure-jar-based-install"><a href="#how-to-configure-jar-based-install" class="header-anchor">#</a> How to configure Jar-based install</h2> <p>Pass in <strong>Application properties</strong> at the end, each property should start with <code>--</code> (double dash), for example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> ~/Downloads/skills-service-X.X.X.jar <span class="token punctuation">\</span>
<span class="token parameter variable">--spring.datasource.url</span><span class="token operator">=</span>jdbc:postgresql://<span class="token operator">&lt;</span>host<span class="token operator">&gt;</span>:5432/skills <span class="token punctuation">\</span>
<span class="token parameter variable">--spring.datasource.username</span><span class="token operator">=</span><span class="token operator">&lt;</span>username<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
<span class="token parameter variable">--spring.datasource.password</span><span class="token operator">=</span><span class="token operator">&lt;</span>pass<span class="token operator">&gt;</span>
</code></pre></div><p>Pass in <strong>JVM System properties</strong> before <code>-jar</code>, using <code>-D</code> or <code>-X</code> prefix, for example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">java</span> <span class="token parameter variable">-Xmx2G</span> <span class="token parameter variable">-Xms2G</span> <span class="token parameter variable">-jar</span> ~/Downloads/skills-service-X.X.X.jar
</code></pre></div><h2 id="how-to-configure-docker-based-install"><a href="#how-to-configure-docker-based-install" class="header-anchor">#</a> How to configure Docker-based install</h2> <p>The Docker-based install uses environment variables to configure Application and System properties:</p> <ul><li><em>SPRING_PROPS</em> - Application properties</li> <li><em>EXTRA_JAVA_OPTS</em> - System properties</li></ul> <p>The following example configures Application properties</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">--name</span> skills-service <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 <span class="token punctuation">\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">SPRING_PROPS</span><span class="token operator">=</span><span class="token string">&quot;\
spring.datasource.url=jdbc:postgresql://&lt;host&gt;:5432/skills,\
spring.datasource.username=&lt;username&gt;,\
spring.datasource.password=&lt;password&gt;&quot;</span> <span class="token punctuation">\</span>
skilltree/skills-service:<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Multiple properties are separated by a comma</p></div> <p>This example configures both Application and System properties:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">--name</span> skills-service <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 <span class="token punctuation">\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">SPRING_PROPS</span><span class="token operator">=</span><span class="token string">&quot;\
spring.datasource.url=jdbc:postgresql://&lt;host&gt;:5432/skills,\
spring.datasource.username=&lt;username&gt;,\
spring.datasource.password=&lt;password&gt;&quot;</span> <span class="token punctuation">\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">EXTRA_JAVA_OPTS</span><span class="token operator">=</span><span class="token string">&quot;-Xmx2G -Xms2G&quot;</span> <span class="token punctuation">\</span>
skilltree/skills-service:<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>
</code></pre></div><h2 id="configuration-properties-catalog"><a href="#configuration-properties-catalog" class="header-anchor">#</a> Configuration Properties Catalog</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>All of these properties are Application properties unless explicitly specified otherwise.</p></div> <h3 id="dashboard-project-and-skill-definitions"><a href="#dashboard-project-and-skill-definitions" class="header-anchor">#</a> Dashboard Project and Skill Definitions</h3> <p>Limit number of items that a Dashboard user can create:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Maximum projects that a single user can be administrator for</span>
<span class="token key attr-name">skills.config.ui.maxProjectsPerAdmin</span><span class="token punctuation">=</span><span class="token value attr-value">25</span>
<span class="token comment"># Maximum number of subjects in a project</span>
<span class="token key attr-name">skills.config.ui.maxSubjectsPerProject</span><span class="token punctuation">=</span><span class="token value attr-value">25</span>
<span class="token comment"># Maximum number of badges in a project</span>
<span class="token key attr-name">skills.config.ui.maxBadgesPerProject</span><span class="token punctuation">=</span><span class="token value attr-value">25</span>
<span class="token comment"># Maximum number of skills in a project</span>
<span class="token key attr-name">skills.config.ui.maxSkillsPerSubject</span><span class="token punctuation">=</span><span class="token value attr-value">100</span>
</code></pre></div><p>When a project is first created it may not have enough total points to calculate a sensible levels breakdown.<br>
Therefore, Skill Events cannot be applied until a minimum amount of points have been created for a project/subject as specified by these properties:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Must create at least 100 points for project </span>
<span class="token comment"># before skill events are applied</span>
<span class="token key attr-name">skills.config.ui.minimumSubjectPoints</span><span class="token punctuation">=</span><span class="token value attr-value">100</span>
<span class="token comment"># Must create at least 100 points for each </span>
<span class="token comment"># subject before skill events are applied </span>
<span class="token comment"># for skills under this subject</span>
<span class="token key attr-name">skills.config.ui.minimumProjectPoints</span><span class="token punctuation">=</span><span class="token value attr-value">100</span>
</code></pre></div><p>Skill definition thresholds:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Skill's Time Window threshold: Maximum number of minutes that can be assigned </span>
<span class="token comment"># to skill's Time Window property (default: 43,200 minutes = 30 days)</span>
<span class="token key attr-name">skills.config.ui.maxTimeWindowInMinutes</span><span class="token punctuation">=</span><span class="token value attr-value">43200</span>

<span class="token comment"># Maximum assignable skill version</span>
<span class="token key attr-name">skills.config.ui.maxSkillVersion</span><span class="token punctuation">=</span><span class="token value attr-value">999</span>
<span class="token comment"># maximum point increment for a skill</span>
<span class="token key attr-name">skills.config.ui.maxPointIncrement</span><span class="token punctuation">=</span><span class="token value attr-value">10000</span>
<span class="token comment"># maximum number of iterations required to complete a skill</span>
<span class="token key attr-name">skills.config.ui.maxNumPerformToCompletion</span><span class="token punctuation">=</span><span class="token value attr-value">10000</span>
<span class="token comment"># maximum number of occurrences within a time window</span>
<span class="token key attr-name">skills.config.ui.maxNumPointIncrementMaxOccurrences</span><span class="token punctuation">=</span><span class="token value attr-value">999</span>
</code></pre></div><h3 id="dashboard-user-account-thresholds-pass-auth-mode-only"><a href="#dashboard-user-account-thresholds-pass-auth-mode-only" class="header-anchor">#</a> Dashboard: User Account Thresholds (Pass Auth Mode Only)</h3> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Maximum number of characters for the first name </span>
<span class="token key attr-name">skills.config.ui.maxFirstNameLength</span><span class="token punctuation">=</span><span class="token value attr-value">30</span>
<span class="token comment"># Maximum number of characters for the last name</span>
<span class="token key attr-name">skills.config.ui.maxLastNameLength</span><span class="token punctuation">=</span><span class="token value attr-value">30</span>
<span class="token comment"># Maximum number of characters for the primary name (aka nickname)</span>
<span class="token key attr-name">skills.config.ui.maxNicknameLength</span><span class="token punctuation">=</span><span class="token value attr-value">70</span>
<span class="token comment"># Minimum number of characters for the user name</span>
<span class="token key attr-name">skills.config.ui.minUsernameLength</span><span class="token punctuation">=</span><span class="token value attr-value">5</span>
<span class="token comment"># Minimum number of characters for the password</span>
<span class="token key attr-name">skills.config.ui.minPasswordLength</span><span class="token punctuation">=</span><span class="token value attr-value">8</span>
<span class="token comment"># Maximum number of characters for the password</span>
<span class="token key attr-name">skills.config.ui.maxPasswordLength</span><span class="token punctuation">=</span><span class="token value attr-value">40</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>These attributes are not applicable to the PKI Mode and will be ignored if PKI Mode is enabled</p></div> <h3 id="skilltree-documentation-link"><a href="#skilltree-documentation-link" class="header-anchor">#</a> SkillTree Documentation Link</h3> <p>Root URL of SkillTree documentation:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">skills.config.ui.docsHost</span><span class="token punctuation">=</span><span class="token value attr-value">https://code.nsa.gov/skills-docs</span>
</code></pre></div><h3 id="skilltree-support"><a href="#skilltree-support" class="header-anchor">#</a> SkillTree Support</h3> <p>You can display options for your users to reach out to the support team (ex. email, chat, ticketing center, etc).</p> <p>Support options are displayed in the SkillTree Dashboard:</p> <ul><li>in the header under the <code>Question Icon</code> dropdown,</li> <li>in the footer of the application.</li></ul> <p>More than one support option can be configured, here is a general template for configuring a support option:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">skills.config.ui.supportLink&lt;N&gt;</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;url&gt;</span>
<span class="token key attr-name">skills.config.ui.supportLink&lt;N&gt;Label</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;label&gt;</span>
<span class="token key attr-name">skills.config.ui.supportLink&lt;N&gt;Icon</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;font awesome free icon&gt;</span>
</code></pre></div><p>For example:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">skills.config.ui.supportLink1</span><span class="token punctuation">=</span><span class="token value attr-value">mailto:skilltreecoolsupport@someemailserver.com</span>
<span class="token key attr-name">skills.config.ui.supportLink1Label</span><span class="token punctuation">=</span><span class="token value attr-value">Email Us</span>
<span class="token key attr-name">skills.config.ui.supportLink1Icon</span><span class="token punctuation">=</span><span class="token value attr-value">fas fa-envelope-open-text</span>

<span class="token key attr-name">skills.config.ui.supportLink2</span><span class="token punctuation">=</span><span class="token value attr-value">https://skilltreecoolestsupportcenter.com</span>
<span class="token key attr-name">skills.config.ui.supportLink2Label</span><span class="token punctuation">=</span><span class="token value attr-value">Support Center</span>
<span class="token key attr-name">skills.config.ui.supportLink2Icon</span><span class="token punctuation">=</span><span class="token value attr-value">fas fa-ambulance</span>
</code></pre></div><p>Any <span data-v-091bc8ab><a href="https://fontawesome.com/v5.15/icons?d=gallery&amp;p=2&amp;m=free" target="_blank" rel="noopener noreferrer" data-v-091bc8ab>Free Font Awesome Icons <i aria-hidden="true" class="fas fa-external-link-alt" style="font-size: 0.8rem" data-v-091bc8ab></i></a></span> can be specified for the <code>skills.config.ui.supportLink&lt;N&gt;Icon</code> property.</p> <h3 id="dashboard-input-validation"><a href="#dashboard-input-validation" class="header-anchor">#</a> Dashboard: Input Validation</h3> <p>Here are some basic thresholds that are applied at the Dashboard UI and the backend:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Maximum number of characters for a description (ex. Subject, Badge, Skill, etc..)</span>
<span class="token key attr-name">skills.config.ui.descriptionMaxLength</span><span class="token punctuation">=</span><span class="token value attr-value">2000</span>

<span class="token comment"># Minimum number of characters for the name (ex. Subject, Badge, Skill, etc..) </span>
<span class="token key attr-name">skills.config.ui.minNameLength</span><span class="token punctuation">=</span><span class="token value attr-value">3</span>
<span class="token comment"># Maximum number of characters for Badge's name</span>
<span class="token key attr-name">skills.config.ui.maxBadgeNameLength</span><span class="token punctuation">=</span><span class="token value attr-value">50</span>
<span class="token comment"># Maximum number of characters for Project's name</span>
<span class="token key attr-name">skills.config.ui.maxProjectNameLength</span><span class="token punctuation">=</span><span class="token value attr-value">50</span>
<span class="token comment"># Maximum number of characters for Skill's name</span>
<span class="token key attr-name">skills.config.ui.maxSkillNameLength</span><span class="token punctuation">=</span><span class="token value attr-value">100</span>
<span class="token comment"># Maximum number of characters for Subject's name</span>
<span class="token key attr-name">skills.config.ui.maxSubjectNameLength</span><span class="token punctuation">=</span><span class="token value attr-value">50</span>
<span class="token comment"># Maximum number of characters for Level's name</span>
<span class="token key attr-name">skills.config.ui.maxLevelNameLength</span><span class="token punctuation">=</span><span class="token value attr-value">50</span>
<span class="token comment"># Minimum number of characters for id (ex. Subject, Badge, Skill, etc..)</span>
<span class="token key attr-name">skills.config.ui.minIdLength</span><span class="token punctuation">=</span><span class="token value attr-value">3</span>
<span class="token comment"># Maximum number of characters for id (ex. Subject, Badge, Skill, etc..)</span>
<span class="token key attr-name">skills.config.ui.maxIdLength</span><span class="token punctuation">=</span><span class="token value attr-value">50</span>
</code></pre></div><p>Regex based validation for Name and Description <em>(this validation is not enabled by default)</em>:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Regular expression that each paragraph in the description must comply with</span>
<span class="token key attr-name">skills.config.ui.paragraphValidationRegex</span><span class="token punctuation">=</span>
<span class="token comment"># Message to display if regex validation fails</span>
<span class="token key attr-name">skills.config.ui.paragraphValidationMessage</span><span class="token punctuation">=</span>

<span class="token comment"># Regular expression that a name (ex. Subject, Badge, Skill, etc..) must comply with</span>
<span class="token key attr-name">skills.config.ui.nameValidationRegex</span><span class="token punctuation">=</span>
<span class="token comment"># Message to display if regex validation fails</span>
<span class="token key attr-name">skills.config.ui.nameValidationMessage</span><span class="token punctuation">=</span>
</code></pre></div><h3 id="latency-profiling"><a href="#latency-profiling" class="header-anchor">#</a> Latency Profiling</h3> <p><code>skills-service</code> comes with built-in latency profiling of its endpoints, to enable:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Enable profiling</span>
<span class="token key attr-name">skills.prof.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token comment"># Profiling is only generated if endpoint's performance exceeds this number of milliseconds</span>
<span class="token key attr-name">skills.prof.minMillisToPrint</span><span class="token punctuation">=</span><span class="token value attr-value">500</span>
</code></pre></div><p>When enabled and an overall endpoint execution time exceeds <code>skills.prof.minMillisToPrint</code> then the detailed call stack profiling is printed to the log.</p> <p>Profiling statement will look something like this:</p> <div class="language- extra-class"><pre class="language-text"><code>Profiling Endpoint: /admin/projects/Project1/users
|-&gt; getProjectUsers(projectId=Project1,query=,limit=5,page=1,orderBy=lastUpdated,ascending=false) (1) : 815ms [017ms]
|     |-&gt; AdminUsersService.findDistinctUsers (1) : 672ms
|     |-&gt; AdminUsersService.countTotalProjUsers (3) : 126ms
</code></pre></div><p>The output provides method call hierarchy as well as the following information:</p> <ul><li>Total method execution time: number in ms, seconds and/or minutes</li> <li>(N): number of times method was called, findDistinctUsers() was called once and countTotalProjUsers() called 3 times</li> <li>[N ms]: execution time which was not accounted for by child methods/logic; this happens when either not all of the child methods/logic is profiled OR there is  GC or JVM overhead</li></ul> <p>SkillTree profiling uses the <span data-v-091bc8ab><a href="https://github.com/NationalSecurityAgency/call-stack-profiler" target="_blank" rel="noopener noreferrer" data-v-091bc8ab>Call Stack Profiler <i aria-hidden="true" class="fas fa-external-link-alt" style="font-size: 0.8rem" data-v-091bc8ab></i></a></span> library</p> <p><code>skills-service</code> also supports the <span data-v-091bc8ab><a href="https://web.dev/custom-metrics/?utm_source=devtools#server-timing-api" target="_blank" rel="noopener noreferrer" data-v-091bc8ab>Server Timing API <i aria-hidden="true" class="fas fa-external-link-alt" style="font-size: 0.8rem" data-v-091bc8ab></i></a></span> and when enabled will set
server timing data in the response header. Most browsers visualize this timing data in their respective development tools. To enable, please set the following property:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">skills.prof.serverTimingAPI.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre></div><p>In Chrome for example, open the development tools and navigate to the Network tab. Click on the skills-service endpoint and then click on the Timing Tab.
On the bottom you will see <code>Server Timing</code> section which will contain overall endpoint execution time (from the server's point of view) and associated
profiling id that will allow you to locate the associated profiling statement in the logs.</p> <p>For example, the name in the Chrome development tools will look something like this <code>profId1642707755421</code> (<code>profId&lt;id&gt;</code>).
To locate the associated profiling statement you can search for the <code>profId=1642707755421</code> (<code>profId=&lt;id&gt;</code>):</p> <div class="language-text extra-class"><pre class="language-text"><code>Profiling Endpoint: /admin/projects/Project1/users
|-&gt; getProjectUsers(projectId=Project1,query=,limit=5,page=1,orderBy=lastUpdated,ascending=false) profId=1642707755421 (1) : 815ms [017ms]
|     |-&gt; AdminUsersService.findDistinctUsers (1) : 672ms
|     |-&gt; AdminUsersService.countTotalProjUsers (1) : 126ms
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Please note</p> <ul><li>In order for the Server Timing API to work <code>skills.prof.enabled</code> must be set to true</li> <li>Profiling statements are only printed to the log if an overall endpoint execution time exceeds <code>skills.prof.minMillisToPrint</code></li></ul></div> <p>Endpoint profiling printing threshold can be further customized / overridden per endpoint:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># You will need to know the name of the method to customize </span>
<span class="token key attr-name">skills.prof.endpoints.&lt;endpoint-method-name&gt;</span><span class="token punctuation">=</span><span class="token value attr-value">1000</span>
</code></pre></div><p>There are also configuration options to tweak profiling of the asynchronous jobs. Please note that the profiling of asynchronous jobs is always enabled.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Async Job: Changes to the original skill (ex. description, occurrences) are automatically </span>
<span class="token comment"># synchronized to all the imported skills as well. Default is 2000</span>
<span class="token key attr-name">skills.async.syncCatalogSkillDefinition.prof.minMillisToPrint</span><span class="token punctuation">=</span><span class="token value attr-value">2000</span>

<span class="token comment"># Async Job: As skill occurrences are reported to the original project they are </span>
<span class="token comment">#also automatically propagated to the imported skills within other projects. Default is 500</span>
<span class="token key attr-name">skills.async.reportSkill.prof.minMillisToPrint</span><span class="token punctuation">=</span><span class="token value attr-value">500</span>
</code></pre></div><h3 id="database"><a href="#database" class="header-anchor">#</a> Database</h3> <p>Configure DB:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">spring.datasource.url</span><span class="token punctuation">=</span>
<span class="token key attr-name">spring.datasource.username</span><span class="token punctuation">=</span>
<span class="token key attr-name">spring.datasource.password</span><span class="token punctuation">=</span>
</code></pre></div><h3 id="websocket-stomp-broker"><a href="#websocket-stomp-broker" class="header-anchor">#</a> WebSocket Stomp Broker</h3> <p>Configure external WebSocket Stomp Broker:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">skills.websocket.enableStompBrokerRelay</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">skills.websocket.relayHost</span><span class="token punctuation">=</span>
<span class="token key attr-name">skills.websocket.relayPort</span><span class="token punctuation">=</span>
</code></pre></div><h3 id="jvm-heap"><a href="#jvm-heap" class="header-anchor">#</a> JVM Heap</h3> <p>These are System Properties.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">-Xms2g</span> <span class="token value attr-value">-Xmx2g</span>
</code></pre></div><h3 id="gc-logging"><a href="#gc-logging" class="header-anchor">#</a> GC Logging</h3> <p>These are System Properties.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">-Xlog</span><span class="token punctuation">:</span><span class="token value attr-value">gc=debug:file=./gc.log:time,uptime,level,tags:filecount=5,filesize=100m</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Generally gc logging is only enabled in development deployments.</p></div> <h3 id="httpstore"><a href="#httpstore" class="header-anchor">#</a> HttpStore</h3> <p>When deploying more than 1 instance of <code>skills-service</code> HttpSession must be persisted centrally.
SkillTree supports storing HttpSession in Redis or in Postgres via JDBC.</p> <p><strong>Option 1:</strong> HttpStore persisted in Redis</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">spring.session.store-type</span><span class="token punctuation">=</span><span class="token value attr-value">redis</span>
<span class="token key attr-name">spring.redis.host</span><span class="token punctuation">=</span><span class="token value attr-value">localhost</span>
<span class="token key attr-name">spring.redis.password</span><span class="token punctuation">=</span>
<span class="token key attr-name">spring.redis.port</span><span class="token punctuation">=</span><span class="token value attr-value">6379 </span>

<span class="token comment"># Optional: Flush mode</span>
<span class="token key attr-name">spring.session.redis.flush-mode</span><span class="token punctuation">=</span><span class="token value attr-value">on_save </span>
<span class="token comment"># Optional: Stores session namespace to use for the keys</span>
<span class="token key attr-name">spring.session.redis.namespace</span><span class="token punctuation">=</span><span class="token value attr-value">spring:session </span>
<span class="token comment"># Optional: can specify duration suffix but if omitted then it defaults to seconds</span>
<span class="token key attr-name">server.servlet.session.timeout</span><span class="token punctuation">=</span> 
</code></pre></div><p><strong>Option 2:</strong> HttpStore persisted in Postgres</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">spring.session.store-type</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc</span>
<span class="token key attr-name">spring.session.jdbc.initialize-schema</span><span class="token punctuation">=</span><span class="token value attr-value">always</span>

<span class="token comment"># Optional: can specify duration suffix but if omitted then it defaults to seconds</span>
<span class="token key attr-name">server.servlet.session.timeout</span><span class="token punctuation">=</span> 
</code></pre></div><h3 id="https-ssl-pass-auth-mode-only"><a href="#https-ssl-pass-auth-mode-only" class="header-anchor">#</a> https SSL (Pass Auth Mode Only)</h3> <div class="content__default" data-v-5b51558b><p>Configure <code>https</code>:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">server.port</span><span class="token punctuation">=</span><span class="token value attr-value">8443</span>
<span class="token key attr-name">server.ssl.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">server.ssl.key-store-type</span><span class="token punctuation">=</span><span class="token value attr-value">PKCS12</span>
<span class="token key attr-name">server.ssl.key-store</span><span class="token punctuation">=</span><span class="token value attr-value">/path/to/keystore.p12</span>
<span class="token key attr-name">server.ssl.key-store-password</span><span class="token punctuation">=</span>

<span class="token comment"># Force TLSv1.2 until https://bugs.openjdk.java.net/browse/JDK-8241248 is fixed</span>
<span class="token key attr-name">server.ssl.enabled-protocols</span><span class="token punctuation">=</span><span class="token value attr-value">TLSv1.2</span>
</code></pre></div></div> <h3 id="email-verification-pass-auth-mode-only"><a href="#email-verification-pass-auth-mode-only" class="header-anchor">#</a> Email Verification (Pass Auth Mode Only)</h3> <p>You can enable verification of the email ownership when dashboard accounts are created by setting the following property:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">skills.authorization.verifyEmailAddresses</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre></div><p>When a new account is created that user will be sent a verification email.
The user will have to click on the verification link in the email prior their login credentials can be used.</p> <h3 id="_2-way-ssl-pki-mode-only"><a href="#_2-way-ssl-pki-mode-only" class="header-anchor">#</a> 2-way SSL (PKI Mode Only)</h3> <div class="content__default" data-v-5b51558b><p>Configure <code>https</code> and 2-way SSL:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">server.port</span><span class="token punctuation">=</span><span class="token value attr-value">8443</span>
<span class="token key attr-name">server.ssl.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">server.ssl.client-auth</span><span class="token punctuation">=</span><span class="token value attr-value">want</span>
	
<span class="token comment"># Force TLSv1.2 until https://bugs.openjdk.java.net/browse/JDK-8241248 is fixed</span>
<span class="token key attr-name">server.ssl.enabled-protocols</span><span class="token punctuation">=</span><span class="token value attr-value">TLSv1.2</span>

<span class="token comment"># keystore</span>
<span class="token key attr-name">server.ssl.key-store</span><span class="token punctuation">=</span><span class="token value attr-value">/certs/keystore.p12</span>
<span class="token key attr-name">server.ssl.key-store-password</span><span class="token punctuation">=</span>
<span class="token key attr-name">server.ssl.keyStoreType</span><span class="token punctuation">=</span><span class="token value attr-value">PKCS12</span>

<span class="token comment"># truststore</span>
<span class="token key attr-name">server.ssl.trust-store</span><span class="token punctuation">=</span><span class="token value attr-value">/certs/truststore.p12</span>
<span class="token key attr-name">server.ssl.trust-store-password</span><span class="token punctuation">=</span>
<span class="token key attr-name">server.ssl.trustStoreType</span><span class="token punctuation">=</span><span class="token value attr-value">PKCS12</span>
</code></pre></div></div> <h3 id="user-info-service-pki-mode-only"><a href="#user-info-service-pki-mode-only" class="header-anchor">#</a> User Info Service (PKI Mode Only)</h3> <p><code>User Info Service</code> client properties:
<div class="content__default" data-v-5b51558b><div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># To retrieve user info by DN</span>
<span class="token key attr-name">skills.authorization.userInfoUri</span><span class="token punctuation">=</span><span class="token value attr-value">https://&lt;host&gt;:&lt;port&gt;/userInfo?dn={dn}</span>
<span class="token comment"># Used by dashboard dropdowns to suggest existing users</span>
<span class="token key attr-name">skills.authorization.userQueryUri</span><span class="token punctuation">=</span><span class="token value attr-value">https://&lt;host&gt;:&lt;port&gt;/userQuery?query={query}</span>
<span class="token comment"># skills-service checks the health of User Info Service</span>
<span class="token key attr-name">skills.authorization.userInfoHealthCheckUri</span><span class="token punctuation">=</span><span class="token value attr-value">https://&lt;host&gt;:&lt;port&gt;/actuator/health</span>
</code></pre></div></div></p> <p>If <code>User Info Service</code> utilizes 2-way SSL then add the following client authentication properties (Java System Properties):
<div class="content__default" data-v-5b51558b><div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Keystore</span>
<span class="token key attr-name">-Djavax.net.ssl.keyStore</span><span class="token punctuation">=</span><span class="token value attr-value">/certs/keystore.p12</span>
<span class="token key attr-name">-Djavax.net.ssl.keyStoreType</span><span class="token punctuation">=</span><span class="token value attr-value">PKCS12</span>
<span class="token key attr-name">-Djavax.net.ssl.keyStorePassword</span><span class="token punctuation">=</span>

<span class="token comment"># Truststore</span>
<span class="token key attr-name">-Djavax.net.ssl.trustStore</span><span class="token punctuation">=</span><span class="token value attr-value">/certs/truststore.p12</span>
<span class="token key attr-name">-Djavax.net.ssl.trustStoreType</span><span class="token punctuation">=</span><span class="token value attr-value">PKCS12</span>
<span class="token key attr-name">-Djavax.net.ssl.trustStorePassword</span><span class="token punctuation">=</span>
</code></pre></div></div></p> <p>If you are running with self-signed certs you can optionally disable host verification (development only):</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">skills.disableHostnameVerifier</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
</code></pre></div><h3 id="oauth-support-pass-auth-mode-only"><a href="#oauth-support-pass-auth-mode-only" class="header-anchor">#</a> OAuth Support (Pass Auth Mode Only)</h3> <div class="content__default" data-v-5b51558b><p>When using Password Auth Mode, the dashboard can also support OAuth2 based authentication.
Currently, OAuth2 is only supported for Google, GitHub, GitLab and Azure Active Directory.<br>
Login buttons get automatically added to the Login page when configured.<br>
To configure, you will need a client ID and client Secret credentials.<br>
These credentials can be created and managed through the providers OAuth
<span data-v-091bc8ab><a href="https://console.developers.google.com/apis/credentials" target="_blank" rel="noopener noreferrer" data-v-091bc8ab>Google <i aria-hidden="true" class="fas fa-external-link-alt" style="font-size: 0.8rem" data-v-091bc8ab></i></a></span>, <span data-v-091bc8ab><a href="https://github.com/settings/developers" target="_blank" rel="noopener noreferrer" data-v-091bc8ab>GitHub <i aria-hidden="true" class="fas fa-external-link-alt" style="font-size: 0.8rem" data-v-091bc8ab></i></a></span>, <span data-v-091bc8ab><a href="https://gitlab.com/-/profile/applications" target="_blank" rel="noopener noreferrer" data-v-091bc8ab>GitLab <i aria-hidden="true" class="fas fa-external-link-alt" style="font-size: 0.8rem" data-v-091bc8ab></i></a></span>, or <span data-v-091bc8ab><a href="https://portal.azure.com/" target="_blank" rel="noopener noreferrer" data-v-091bc8ab>Azure AD <i aria-hidden="true" class="fas fa-external-link-alt" style="font-size: 0.8rem" data-v-091bc8ab></i></a></span> management pages.</p> <p>Once the client ID and secret are set up, they are enabled by adding the following properties:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># Google</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.google.client-id</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;Google client id here&gt;</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.google.client-secret</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;Google client secret here&gt;</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.google.redirectUriTemplate</span><span class="token punctuation">=</span><span class="token value attr-value">'https://&lt;SkillTree Dashboard Host&gt;/{action}/oauth2/code/{registrationId}'</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.google.iconClass</span><span class="token punctuation">=</span><span class="token value attr-value">fab fa-google</span>

<span class="token comment"># GitHub</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.github.client-id</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;GitHub client id here&gt;</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.github.client-secret</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;GitHub client secret here&gt;</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.github.redirectUriTemplate</span><span class="token punctuation">=</span><span class="token value attr-value">'https://&lt;SkillTree Dashboard Host&gt;/{action}/oauth2/code/{registrationId}'</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.github.iconClass</span><span class="token punctuation">=</span><span class="token value attr-value">fab fa-github</span>

<span class="token comment"># GitLab</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.gitlab.client-id</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;GitLab client id here&gt;</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.gitlab.client-secret</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;GitLab  client secret here&gt;</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.gitlab.redirect-uri</span><span class="token punctuation">=</span><span class="token value attr-value">https://&lt;SkillTree Dashboard URL&gt;/{action}/oauth2/code/{registrationId}</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.gitlab.authorization-grant-type</span><span class="token punctuation">=</span><span class="token value attr-value">authorization_code</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.gitlab.clientName</span><span class="token punctuation">=</span><span class="token value attr-value">GitLab</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.gitlab.iconClass</span><span class="token punctuation">=</span><span class="token value attr-value">fab fa-gitlab</span>
<span class="token key attr-name">spring.security.oauth2.client.provider.gitlab.authorization-uri</span><span class="token punctuation">=</span><span class="token value attr-value">https://gitlab.com/oauth/authorize</span>
<span class="token key attr-name">spring.security.oauth2.client.provider.gitlab.token-uri</span><span class="token punctuation">=</span><span class="token value attr-value">https://gitlab.com/oauth/token</span>
<span class="token key attr-name">spring.security.oauth2.client.provider.gitlab.user-info-uri</span><span class="token punctuation">=</span><span class="token value attr-value">https://gitlab.com/api/v4/user</span>
<span class="token key attr-name">spring.security.oauth2.client.provider.gitlab.user-name-attribute</span><span class="token punctuation">=</span><span class="token value attr-value">username</span>

<span class="token comment"># Azure AD</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.azure.client-id</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;Azure App Registration client ID&gt;</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.azure.client-secret</span><span class="token punctuation">=</span><span class="token value attr-value">&lt;Azure App Registration client secret&gt;</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.azure.redirect-uri</span><span class="token punctuation">=</span><span class="token value attr-value">https://&lt;SkillTree Dashboard URL&gt;/{action}/oauth2/code/{registrationId}</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.azure.iconClass</span><span class="token punctuation">=</span><span class="token value attr-value">fab fa-microsoft</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.azure.scope</span><span class="token punctuation">=</span><span class="token value attr-value">openid,profile,email</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.azure.authorization-grant-type</span><span class="token punctuation">=</span><span class="token value attr-value">authorization_code</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.azure.client-name</span><span class="token punctuation">=</span><span class="token value attr-value">Azure</span>
<span class="token key attr-name">spring.security.oauth2.client.registration.azure.provider</span><span class="token punctuation">=</span><span class="token value attr-value">azuread</span>
<span class="token key attr-name">spring.security.oauth2.client.provider.azuread.authorization-uri</span><span class="token punctuation">=</span><span class="token value attr-value">https://login.microsoftonline.com/common/oauth2/v2.0/authorize</span>
<span class="token key attr-name">spring.security.oauth2.client.provider.azuread.token-uri</span><span class="token punctuation">=</span><span class="token value attr-value">https://login.microsoftonline.com/common/oauth2/v2.0/token</span>
<span class="token key attr-name">spring.security.oauth2.client.provider.azuread.user-info-uri</span><span class="token punctuation">=</span><span class="token value attr-value">https://graph.microsoft.com/oidc/userinfo</span>
<span class="token key attr-name">spring.security.oauth2.client.provider.azuread.jwk-set-uri</span><span class="token punctuation">=</span><span class="token value attr-value">https://login.microsoftonline.com/common/discovery/keys</span>
</code></pre></div><p>Excluding a provider configuration section will prevent the respective OAuth login button from being added to the Login page.</p> <p>Note: To disable username/password authentication entirely and <em>only</em> support OAuth based authentication, set the following configuration property:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">skills.authorization.oAuthOnly</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre></div></div> <h3 id="progress-and-ranking-views"><a href="#progress-and-ranking-views" class="header-anchor">#</a> Progress and Ranking Views</h3> <p>A single point of access for training profiles available to the user as well as user's current progress and ranking.
The Progress and Ranking views give a user access to the Skills Display for <em>all</em> projects which have <code>Discoverable</code> enabled
on that instance of the SkillTree platform. It provides a single point of access for training profiles available to the
user as well as a mechanism for Projects that consist entirely of self-reported Skills to provide access to the <a href="/dashboard/user-guide/progress-and-ranking.html">Ranking and Progress</a> display
for their users.</p> <p>Progress and Ranking Views are disabled by default, but can be easily enabled:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># enable Progress and Ranking Views</span>
<span class="token key attr-name">skills.config.ui.rankingAndProgressViewsEnabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>

<span class="token comment"># optionally change default for the landing page (admin is the default)</span>
<span class="token key attr-name">skills.config.ui.defaultLandingPage</span><span class="token punctuation">=</span><span class="token value attr-value">progress</span>
</code></pre></div><h3 id="upgrade-in-progress-state"><a href="#upgrade-in-progress-state" class="header-anchor">#</a> Upgrade-In-Progress State</h3> <p>In order to safely upgrade the database engine, SkillTree can be easily transitioned to a Upgrade-In-Progress state.
When that happens:</p> <ul><li>the SkillTree Dashboard is placed into a read-only state: dashboard can be viewed and navigated but mutations will not be allowed</li> <li>skill requests are retained in a Write-Ahead-Log (WAL) to be replayed after the upgrade is done</li></ul> <p>Please configure the following properties in order to place <code>skills-service</code> in the Upgrade-In-Progress state:</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># place the SkillTree platform in the Upgrade-In-Progress state </span>
<span class="token key attr-name">skills.config.db-upgrade-in-progress</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token comment"># specify the location of the directory where the Write-Ahead-Logs will be stored   </span>
<span class="token key attr-name">skills.queued-event-path</span><span class="token punctuation">=</span><span class="token value attr-value">/queued_events</span>
</code></pre></div><p>When the SkillTree Dashboard is started with the <code>skills.config.db-upgrade-in-progress</code> property set to <code>true</code> it will:</p> <ul><li>display a prominent banner on the top of the SkillTree Dashboard and any embedded Skills Display informing users that an upgrade is in progress</li> <li>any mutation (ex. creating/editing skills/projects/badges, etc...) will redirect users to an informational page indicating that an upgrade is in progress</li> <li>skill requests are accepted and stored in the WAL in the directory specified by the <code>skills.queued-event-path</code> property</li></ul> <p>General steps to upgrade the database engine:</p> <ol><li>start the new database on a different instance/node</li> <li>transition SkillTree production instance to the Upgrade-In-Progress state</li> <li>export data from the current production database instance</li> <li>import data into the new database instance</li> <li>reconfigure SkillTree production instance to point to the new database and turn off the Upgrade-In-Progress state
<ul><li>when the <code>skills-service</code> is restarted it will replay the events stored in the WAL; the WAL files will then be removed</li></ul></li></ol> <h3 id="private-invite-only-projects"><a href="#private-invite-only-projects" class="header-anchor">#</a> Private Invite Only Projects</h3> <p>In the case of Private Invite Only Projects, users are invited to join a project.
Invited recipients are emailed a one-time invite code and by default that invite code can be used by any valid user.</p> <p>When <code>skills.authorization.invite.validateEmail</code> is set to <code>true</code>, the invite code is compared to the user's email address
prior giving access to that private project.</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># when enabled, only users whose email addresses matche the one assigned to the invite token will be given access </span>
<span class="token key attr-name">skills.authorization.invite.validateEmail</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre></div><h3 id="spring-boot-properties"><a href="#spring-boot-properties" class="header-anchor">#</a> Spring Boot Properties</h3> <p><code>skills-service</code> is a Spring Boot application and will respect the majority (if not all) of Spring Boot configuration properties.<br>
Here is the complete list of available <span data-v-091bc8ab><a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#data-properties" target="_blank" rel="noopener noreferrer" data-v-091bc8ab>Spring Boot Properties <i aria-hidden="true" class="fas fa-external-link-alt" style="font-size: 0.8rem" data-v-091bc8ab></i></a></span></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/5/2023, 12:00:22 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2efbea58.js" defer></script><script src="/assets/js/2.831a0a5f.js" defer></script><script src="/assets/js/71.ff273e66.js" defer></script><script src="/assets/js/49.48804d32.js" defer></script><script src="/assets/js/51.c41d2d4e.js" defer></script><script src="/assets/js/67.afd27d06.js" defer></script><script src="/assets/js/68.6a5d4960.js" defer></script><script src="/assets/js/69.ec0fda02.js" defer></script><script src="/assets/js/70.8d20d5c0.js" defer></script><script src="/assets/js/61.84a5d346.js" defer></script>
  </body>
</html>
