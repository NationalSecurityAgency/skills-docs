(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{541:function(t,s,a){"use strict";a.r(s);var e=a(51),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"installation-modes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation-modes"}},[t._v("#")]),t._v(" Installation Modes")]),t._v(" "),a("p",[t._v("The SkillTree dashboard and service (skills-service) support two separate modes of authentication.  The dashboard can be configured for password based authentication "),a("em",[t._v("or")]),t._v(" PKI based authentication.")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/dashboard/install-guide/installModes.html#password-auth-mode"}},[t._v("Password Auth Mode")]),t._v(": Accounts created and managed by SkillTree and/or delegated to OAuth2 authentication provider (ex. GitHub, Google, etc..)")],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/dashboard/install-guide/installModes.html#pki-auth-mode"}},[t._v("PKI Auth Mode")]),t._v(": PKI Mode is for intranets where organizations utilize PKI with 2-way SSL certificates to implement authentication and authorization. User's browser must be setup with a personal PKI certificate and that certificate must be issued by a Certificate Authority trusted in the dashboard application's truststore.")],1)]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("Definitely use Password Auth Mode if you are not sure which mode is applicable to you.")])]),t._v(" "),a("h2",{attrs:{id:"password-auth-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#password-auth-mode"}},[t._v("#")]),t._v(" Password Auth Mode")]),t._v(" "),a("p",[t._v('When configured for password based authentication, users will need to manually create a SkillTree account by clicking on the "Sign Up" link on the main login page.  After creating an account, users can login using the username and password that was used when creating the account.')]),t._v(" "),a("p",[t._v("Password Auth Mode is enabled by default, or can be explicitly enabled by setting the following property:")]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("skills.authorization.authMode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("FORM")]),t._v("\n")])])]),a("h3",{attrs:{id:"oauth-support"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oauth-support"}},[t._v("#")]),t._v(" OAuth Support")]),t._v(" "),a("import-content",{attrs:{path:"/dashboard/install-guide/common/oath2-support.html"}}),t._v(" "),a("h2",{attrs:{id:"pki-auth-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pki-auth-mode"}},[t._v("#")]),t._v(" PKI Auth Mode")]),t._v(" "),a("p",[t._v("PKI Mode is for intranets where organizations utilize PKI with 2-way SSL certificates to implement authentication and authorization.\nWhen configured for PKI based authentication, the user's browser must be setup with a personal PKI certificate and that certificate must be issued by a Certificate Authority trusted in the dashboard application's truststore.")]),t._v(" "),a("p",[t._v("To enable PKI Auth Mode, set the following configuration property:")]),t._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("skills.authorization.authMode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("PKI")]),t._v("\n")])])]),a("p",[t._v("PKI Mode requires:")]),t._v(" "),a("ul",[a("li",[t._v("running "),a("code",[t._v("User Info Service")])]),t._v(" "),a("li",[t._v("configuring client properties to communicate with "),a("code",[t._v("User Info Service")])])]),t._v(" "),a("h3",{attrs:{id:"user-info-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user-info-service"}},[t._v("#")]),t._v(" User Info Service")]),t._v(" "),a("p",[t._v("In PKI Mode, users authenticate using PKI certificates - the only information that is extracted from a client certificate is the Distinguished Name (DN).\nThe User Info Service provides a way to look up users' metadata by DN, such as name and email.\nIt is your responsibility to implement and run an instance of User Info Service specific to your organization.")]),t._v(" "),a("p",[t._v("The User Info Service is configured in the skills-service by adding the following configuration properties:")]),t._v(" "),a("import-content",{attrs:{path:"/dashboard/install-guide/common/user-info-service-props-endpoints.html"}}),t._v(" "),a("p",[t._v("The User Info Service will need to implement the following REST endpoints that can return user information for the client certificate's Distinguished Name (DN):")]),t._v(" "),a("ul",[a("li",[t._v("skills.authorization.userInfoUri")]),t._v(" "),a("li",[t._v("skills.authorization.userQueryUri")]),t._v(" "),a("li",[t._v("skills.authorization.userInfoHealthCheckUri")])]),t._v(" "),a("h4",{attrs:{id:"skills-authorization-userinfouri-endpoint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#skills-authorization-userinfouri-endpoint"}},[t._v("#")]),t._v(" skills.authorization.userInfoUri endpoint")]),t._v(" "),a("p",[t._v("This endpoint returns user information by DN. The endpoint is configured via the "),a("code",[t._v("skills.authorization.userInfoUri")]),t._v(" property and expects a DN parameter, for example "),a("code",[t._v("/userInfo?dn={dn}")]),t._v("."),a("br"),t._v("\nThis endpoint must return valid JSON with the following properties for a given user's DN:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"firstName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lastFirstName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"userDn"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"usernameForDisplay"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[a("em",[t._v("username:")]),t._v(" property is a user's unique identifier; can be a number formatted as a string, ex. "),a("code",[t._v("000001")])]),t._v(" "),a("li",[a("em",[t._v("usernameForDisplay:")]),t._v(" this is how user will be display in the SkillTree dashboard")])]),t._v(" "),a("h4",{attrs:{id:"skills-authorization-userqueryuri-endpoint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#skills-authorization-userqueryuri-endpoint"}},[t._v("#")]),t._v(" skills.authorization.userQueryUri endpoint")]),t._v(" "),a("p",[t._v("This endpoint is used by the SkillTree dashboard dropdowns to suggest existing users.")]),t._v(" "),a("p",[t._v("The endpoint is configured via the "),a("code",[t._v("skills.authorization.userQueryUri")]),t._v(" property and expects a query parameter, for example: "),a("code",[t._v("/userQuery?query={query}")]),t._v(".\nThis endpoint must return a list of the above JSON objects for user DN's that meet the query criteria. For example:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"firstName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lastFirstName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"userDn"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"usernameForDisplay"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"firstName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lastFirstName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"userDn"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"usernameForDisplay"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<value>"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("h4",{attrs:{id:"skills-authorization-userinfohealthcheckuri-endpoint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#skills-authorization-userinfohealthcheckuri-endpoint"}},[t._v("#")]),t._v(" skills.authorization.userInfoHealthCheckUri endpoint")]),t._v(" "),a("p",[t._v("Health check endpoint.\nThe endpoint is configured via the "),a("code",[t._v("skills.authorization.userInfoHealthCheckUri")]),t._v(" property and should return the following JSON object:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UP"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"optional-2-way-ssl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#optional-2-way-ssl"}},[t._v("#")]),t._v(" optional 2-way SSL")]),t._v(" "),a("p",[t._v("If your "),a("code",[t._v("User Info Service")]),t._v(" is configured to use 2-way SSL then "),a("code",[t._v("skills-service")]),t._v(" must add the following client authentication properties (Java System Properties):\n"),a("import-content",{attrs:{path:"/dashboard/install-guide/common/user-info-service-props-ssl.html"}})],1)],1)}),[],!1,null,null,null);s.default=r.exports}}]);