(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{387:function(e,t,s){e.exports=s.p+"assets/img/JsDeps.588ab702.jpg"},442:function(e,t,s){"use strict";s.r(t);var n=s(41),a=Object(n.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"development-environment"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#development-environment"}},[e._v("#")]),e._v(" Development Environment")]),e._v(" "),n("p",[e._v("We recommend developing SkillTree in a *nix environment.")]),e._v(" "),n("h2",{attrs:{id:"prerequisites"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[e._v("#")]),e._v(" Prerequisites")]),e._v(" "),n("ul",[n("li",[e._v("modern *nix environment")]),e._v(" "),n("li",[e._v("JDK 11+, we suggest "),n("a",{attrs:{href:"https://openjdk.java.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Open JDK"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Git"),n("OutboundLink")],1),e._v(" version 2.23+")]),e._v(" "),n("li",[n("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js"),n("OutboundLink")],1),e._v(" v12+ and "),n("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("npm"),n("OutboundLink")],1),e._v(" 6+")]),e._v(" "),n("li",[n("a",{attrs:{href:"https://maven.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Maven"),n("OutboundLink")],1),e._v(" 3.6.2+")]),e._v(" "),n("li",[n("a",{attrs:{href:"https://www.postgresql.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("PostgreSQL"),n("OutboundLink")],1),e._v(" 10+")])]),e._v(" "),n("h2",{attrs:{id:"development-overview"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#development-overview"}},[e._v("#")]),e._v(" Development Overview")]),e._v(" "),n("p",[e._v("The following sections will cover:")]),e._v(" "),n("ol",[n("li",[e._v("skills-service project development")]),e._v(" "),n("li",[e._v("skills-client project development")])]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("More than likely your development will be scoped to the skills-service project but, although rare, there are situations when you'll need to modify the skills-client as well.\nIf you are making improvements to the SkillTree dashboard or its Skills Display views then your development will be scoped within the skills-service project.\nIf you have not yet, please take few minutes to review the "),n("RouterLink",{attrs:{to:"/contribution/architecture.html"}},[e._v("architecture")]),e._v(" section.")],1)]),e._v(" "),n("p",[e._v("The tech stack is large but to get started you will need to be familiar (but more likely experienced) with these core technologies:")]),e._v(" "),n("ul",[n("li",[e._v("Java and Groovy")]),e._v(" "),n("li",[e._v("Spring Framework (especially "),n("a",{attrs:{href:"https://spring.io/projects/spring-boot",target:"_blank",rel:"noopener noreferrer"}},[e._v("Spring Boot"),n("OutboundLink")],1),e._v(")")]),e._v(" "),n("li",[e._v("Web stack: Javascript, html, css")]),e._v(" "),n("li",[n("a",{attrs:{href:"https://vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue.js"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cypress.io"),n("OutboundLink")],1)]),e._v(" "),n("li",[e._v("Build tools: maven, npm & webpack")])]),e._v(" "),n("p",[e._v("Each sub-section follows the same flow:")]),e._v(" "),n("ol",[n("li",[e._v("Get, build, and test")]),e._v(" "),n("li",[n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cypress.io"),n("OutboundLink")],1),e._v(" end-to-end tests")]),e._v(" "),n("li",[e._v("Day-to-day development")]),e._v(" "),n("li",[e._v("Test checklist")])]),e._v(" "),n("h2",{attrs:{id:"skills-service-development"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#skills-service-development"}},[e._v("#")]),e._v(" Skills-service development")]),e._v(" "),n("p",[e._v("The skills-service project encapsulates code for the SkillTree dashboard, REST apis and Skills Display views.")]),e._v(" "),n("h3",{attrs:{id:"get-build-and-test"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#get-build-and-test"}},[e._v("#")]),e._v(" Get, build, and test")]),e._v(" "),n("p",[e._v("First things first, "),n("strong",[e._v("fork")]),e._v(" and checkout the code (please see the "),n("RouterLink",{attrs:{to:"/contribution/#contribution-steps"}},[e._v("Contribution Steps")]),e._v("), build it and run all of the unit and integration tests.\nThen we'll discuss development and testing steps.")],1),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("github"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(":skills-service.git\n")])])]),n("p",[e._v("To build the project, run the unit tests and the backend integration tests:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-service\nmvn "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n")])])]),n("p",[e._v("Since this process runs all of the service integration tests it will take a while (5 to 20 minutes depending on your hardware).")]),e._v(" "),n("p",[e._v("SkillTree uses "),n("a",{attrs:{href:"https://maven.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("maven"),n("OutboundLink")],1),e._v(" and "),n("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("npm"),n("OutboundLink")],1),e._v(" for its dependency management and to facilitate the build lifecycle.  Let's get familiar with the project's layout:")]),e._v(" "),n("div",{staticClass:"language-markdown extra-class"},[n("pre",{pre:!0,attrs:{class:"language-markdown"}},[n("code",[e._v("skills-service\n└───service\n│   │   pom.xml\n|   └───target\n|   |   skills-service-"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v(".jar\n|   |   ....\n└───dashboard\n|   │   pom.xml\n|   │   package.json\n|   |   ....\n└───client-display\n|   │   pom.xml\n|   │   package.json\n|   |   ....\n└───e2e-tests\n|   │   package.json\n|   |   ....\n└─── pom.xml\n")])])]),n("p",[e._v("The runtime artifact is a "),n("a",{attrs:{href:"https://spring.io/projects/spring-boot",target:"_blank",rel:"noopener noreferrer"}},[e._v("spring boot"),n("OutboundLink")],1),e._v(" application and will be created in "),n("code",[e._v("service/skills-service-<version>.jar")]),e._v(";\nwe ran "),n("code",[e._v("mvn install")]),e._v(" to generate this artifact and the following sequence of steps were performed:")]),e._v(" "),n("ul",[n("li",[e._v("Build dashboard web application: "),n("code",[e._v("npm run build")]),e._v(" in dashboard project")]),e._v(" "),n("li",[e._v("Build client display web application: "),n("code",[e._v("npm run build")]),e._v(" in client-display project")]),e._v(" "),n("li",[e._v("Compile Java and Groovy classes in the "),n("code",[e._v("service")]),e._v(" project: "),n("code",[e._v("mvn compile")])]),e._v(" "),n("li",[e._v("Copy dashboard and client-display built apps to "),n("code",[e._v("service/src/main/resources/public")]),e._v(" so the spring boot app can host the dashboard and the client-display web-applications")]),e._v(" "),n("li",[e._v("Generate runtime artifact: "),n("code",[e._v("mvn package")]),e._v(" in the service project")])]),e._v(" "),n("p",[e._v("Of course this doesn't cover the entire build cycle so please familiarize yourself with all of the pom.xml and package.json files.\nNow that you have the runtime artifact, you can start the SkillTree dashboard and service using the following command:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("java -jar service/target/skills-service-"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("version"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(".jar\n")])])]),n("p",[e._v("The app will run on "),n("a",{attrs:{href:"http://localhost:8080",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://localhost:8080"),n("OutboundLink")],1),e._v(", visit it to create an account, new project, subjects, skills, etc.\nTo learn more about the features of the SkillTree dashboard, please visit the "),n("RouterLink",{attrs:{to:"/dashboard/user-guide/"}},[e._v("Dashboard Guide")]),e._v(".")],1),e._v(" "),n("p",[e._v("The SkillTree application will be started using default properties. Some things to note:")]),e._v(" "),n("ul",[n("li",[e._v("By default an in-memory H2 database is used - data will be ephemeral and will not persist between application restarts.")]),e._v(" "),n("li",[e._v("By default the app runs in "),n("RouterLink",{attrs:{to:"/dashboard/install-guide/installModes.html#password-auth-mode"}},[e._v("Password Auth Mode")]),e._v(" which is the common use-case.")],1)]),e._v(" "),n("h3",{attrs:{id:"cypress-io-end-to-end-tests"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cypress-io-end-to-end-tests"}},[e._v("#")]),e._v(" Cypress.io end-to-end tests")]),e._v(" "),n("p",[e._v("SkillTree utilizes the "),n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cypress.io"),n("OutboundLink")],1),e._v(" framework to perform end-to-end tests and specifically verify features of the dashboard and client-display web applications.\nCypress tests are located in the "),n("code",[e._v("e2e-tests")]),e._v(" project:")]),e._v(" "),n("div",{staticClass:"language-markdown extra-class"},[n("pre",{pre:!0,attrs:{class:"language-markdown"}},[n("code",[e._v("skills-service\n|   ....\n└───e2e-tests\n|   │   package.json\n|   └───cypress\n|   |   └───integration\n|   |   "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("dashboard")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("test")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("_spec.js\n|   |   |   └───client-display\n|   |   |   |   "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("client-display")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("test")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("_spec.js   \n")])])]),n("p",[e._v("The end-to-end tests stand-up the skills-service, the dashboard, and the client display web applications and then execute numerous tests against these web-applications to mimic users' actions.")]),e._v(" "),n("p",[e._v("To run cypress end-to-end tests (assumes that you have built the skills-service.jar via the previous step):")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-service/e2e-tests\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# start servers in the background: skills-service and client-display")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cyServices:start\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# run cypress integration tests")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cy:run\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# kill background servers")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cyServices:kill \n")])])]),n("p",[e._v("Buckle down as these tests will take a while to run, and depending on your system specs you should expect anywhere from 5 to 20 minutes.")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("Please note that ports 8080, 8083, 1026, and 1081 have to be available on your system")])]),e._v(" "),n("p",[n("code",[e._v("npm run cyServices:start")]),e._v(" command starts:")]),e._v(" "),n("ul",[n("li",[e._v("The programmatic service and the dashboard by utilizing the already built jar; will run on port 8080")]),e._v(" "),n("li",[e._v("the client-display using webpack dev server; will run on port 8083")]),e._v(" "),n("li",[e._v("A mock smtp server; will run on ports 1026 and 1081")])]),e._v(" "),n("p",[e._v("Now that you can build and run integration tests let's discuss day-to-day development setup for the skills-service project.")]),e._v(" "),n("h3",{attrs:{id:"day-to-day-development"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#day-to-day-development"}},[e._v("#")]),e._v(" Day-to-day development")]),e._v(" "),n("p",[e._v("Most IDEs (Intellij, Eclipse, etc...) provide first-class support for maven projects so the very first step would be to import the skills-service project into your favorite IDE.")]),e._v(" "),n("p",[e._v("Please note that code additions will generally fall into these categories:")]),e._v(" "),n("ol",[n("li",[e._v("Enhancing the skills-service programmatic REST API")]),e._v(" "),n("li",[e._v("Making changes to the web-based dashboard application or the client-display web-based application")])]),e._v(" "),n("h6",{attrs:{id:"skills-service-programmatic-rest-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#skills-service-programmatic-rest-api"}},[e._v("#")]),e._v(" skills-service programmatic REST API")]),e._v(" "),n("p",[e._v("The code for the API can be found under "),n("code",[e._v("skills-service/service")]),e._v(" which follows standard maven conventions.")]),e._v(" "),n("p",[e._v("The programmatic API tests reside in "),n("code",[e._v("service/src/test/java")]),e._v(" and you can run all of the tests via")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-service/service\nmvn "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v("\n")])])]),n("p",[e._v("You can also run any of the tests using your favorite IDE.")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("SkillTree's overall testing strategy is to implement black-box integration tests and supplement with unit tests whenever an integration test is not possible.")])]),e._v(" "),n("p",[e._v("Generally, programmatic API service development is facilitated via the integration tests .")]),e._v(" "),n("p",[e._v("Skills Service integration tests stand-up the skills-service application and then execute various endpoints, validating the result.\nThese integration tests reside in the "),n("code",[e._v("skills.intTests")]),e._v(" package and extend the "),n("code",[e._v("DefaultIntSpec.groovy")]),e._v(" class.")]),e._v(" "),n("p",[n("code",[e._v("DefaultIntSpec.groovy")]),e._v(" is annotated with the "),n("a",{attrs:{href:"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("@SpringBootTest")]),n("OutboundLink")],1),e._v(" annotation\nwhich facilitates running the Spring Boot application, exposing endpoints on a random port.")]),e._v(" "),n("p",[e._v("A few things to note:")]),e._v(" "),n("ul",[n("li",[e._v("You should interact with the skills-service using the test client "),n("code",[e._v("skills.intTests.utils.SkillsService")]),e._v(" class\n"),n("ul",[n("li",[e._v("Available via "),n("code",[e._v("skills.intTests.utils.DefaultIntSpec#skillsService")])]),e._v(" "),n("li",[n("code",[e._v("SkillsService")]),e._v(" class represents an authenticated dashboard user")])])]),e._v(" "),n("li",[e._v("Runtime port can be retrieved via "),n("code",[e._v("skills.intTests.utils.DefaultIntSpec#localPort")]),e._v(" but should rarely be used directly; instead please use "),n("code",[e._v("skills.intTests.utils.DefaultIntSpec#skillsService")]),e._v(" instead")]),e._v(" "),n("li",[n("code",[e._v("DefaultIntSpec")]),e._v(" setup and cleanup methods purge data from DB between each test case")]),e._v(" "),n("li",[e._v("By default, tests are executed against an in-memory H2 DB")]),e._v(" "),n("li",[e._v("Use the "),n("code",[e._v("skills.intTests.utils.DefaultIntSpec#createService")]),e._v(" method if you need a new "),n("code",[e._v("SkillsService")]),e._v(" instance\n"),n("ul",[n("li",[e._v("For example to represent another dashboard user")])])])]),e._v(" "),n("p",[e._v("There are hundreds of tests in the "),n("code",[e._v("skills.intTests")]),e._v(" package, please feel free to explore.")]),e._v(" "),n("h6",{attrs:{id:"web-based-dashboard-and-or-client-display"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web-based-dashboard-and-or-client-display"}},[e._v("#")]),e._v(" Web-Based Dashboard and/or Client Display")]),e._v(" "),n("p",[e._v("Steps to develop the web-based dashboard are:")]),e._v(" "),n("ol",[n("li",[e._v("Stand up the service (programmatic API)")]),e._v(" "),n("li",[e._v("Bring up the webpack dev server")]),e._v(" "),n("li",[e._v("Use browser and cypress tests to drive development")])]),e._v(" "),n("p",[e._v("To stand up the service you can execute "),n("code",[e._v("skills.SpringBootApp")]),e._v(" in the "),n("code",[e._v("service")]),e._v(" project from your IDE.\nIf that's not an option you can always build a jar and run it from the command line:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("java -jar service/target/skills-service-"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("version"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(".jar\n")])])]),n("p",[e._v("The service will run on port 8080.")]),e._v(" "),n("p",[e._v("Next is to start the webpack dev server in the "),n("code",[e._v("dashboard")]),e._v(" project:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" dashboard\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run serve\n")])])]),n("p",[e._v("This webpack dev server will run on port 8082 and will make requests for data to the service running on port 8080.")]),e._v(" "),n("p",[e._v("Generally development is facilitated by writing cypress tests:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" e2e-tests\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cy:open:dev\n")])])]),n("p",[e._v("You can then start adding tests under e2e-tests/cypress/integration to an existing file or by creating a new file.")]),e._v(" "),n("p",[e._v("If you are making changes to the client display OR want to run all of the cypress integration tests, then you will need to start the client-display webpack dev server:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" client-display\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run serve\n")])])]),n("p",[e._v("The dev server will run on port 8083 and will make requests for data to the service running on port 8080.")]),e._v(" "),n("h3",{attrs:{id:"test-checklist"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#test-checklist"}},[e._v("#")]),e._v(" Test Checklist")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("SkillTree's overall testing strategy is to implement black-box integration tests and supplement with unit tests whenever an integration test is not possible.")])]),e._v(" "),n("p",[e._v("We like tests (especially integration tests), so please make sure you thoroughly test your code."),n("br"),e._v("\nPrior to making a Pull Request make sure that ALL tests pass:")]),e._v(" "),n("ol",[n("li",[e._v("Run services tests against PostgreSQL in addition to the default in-memory H2 database")]),e._v(" "),n("li",[e._v("Run all Cypress tests")])]),e._v(" "),n("p",[e._v("Provide the following properties to run the service tests against PostgreSQL:")]),e._v(" "),n("div",{staticClass:"language-properties extra-class"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("spring.datasource.url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("jdbc:postgresql://localhost:5432/skills")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("spring.datasource.username")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("<username>")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("spring.datasource.password")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("<password>")]),e._v("\n")])])]),n("p",[e._v("On the command line it would look something like this:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("mvn --batch-mode "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v(" -Dspring.datasource.url"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("jdbc:postgresql://postgres:5432/skills -Dspring.datasource.username"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("user -Dspring.datasource.password"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("pass\n")])])]),n("p",[e._v("To run all the cypress tests:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-service/e2e-tests\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# start servers in the background: skills-service and client-display to test")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cyServices:start\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# run cypress integration tests")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cy:run\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# kill background servers")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cyServices:kill \n")])])]),n("h2",{attrs:{id:"skills-client-development"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#skills-client-development"}},[e._v("#")]),e._v(" Skills-client development")]),e._v(" "),n("p",[e._v("Skills-client JS libraries provide skills event reporting utilities and a thin iFrame-based wrapper for the Client Display.")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("Is this the right project for me?")]),e._v(" "),n("p",[e._v("Please keep in mind that the majority of the SkillTree features are encapsulated in the "),n("RouterLink",{attrs:{to:"/contribution/devEnv.html#skills-service-development"}},[e._v("skills-service")]),e._v(" project.")],1),e._v(" "),n("p",[e._v("If you are making improvements to the SkillTree dashboard or its Skills Display views then your development will be scoped within the skills-service project. I\nf you have not yet, please take few minutes to review the "),n("RouterLink",{attrs:{to:"/contribution/architecture.html#skilltree-repositories"}},[e._v("architecture")]),e._v(" section.")],1),e._v(" "),n("p",[e._v("If you are not sure whether you need to make skill-client changes, contact the SkillTree core development team.")])]),e._v(" "),n("h3",{attrs:{id:"get-build-and-test-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#get-build-and-test-2"}},[e._v("#")]),e._v(" Get, build and test")]),e._v(" "),n("p",[e._v("First things first, "),n("strong",[e._v("fork")]),e._v(" and checkout the code (please see the "),n("RouterLink",{attrs:{to:"/contribution/#contribution-steps"}},[e._v("Contribution Steps")]),e._v("), build it and run all of the unit and integration tests. Then we'll discuss the development and testing steps.")],1),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("github"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(":skills-client.git\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-client\n")])])]),n("p",[e._v("skills-client is an assembly of projects that build JS client libraries AND integration tests that enable comprehensive testing of these libraries:")]),e._v(" "),n("ul",[n("li",[n("strong",[e._v("skills-client-js:")]),e._v(" pure JS implementation, please see "),n("RouterLink",{attrs:{to:"/skills-client/js.html#pure-js-integration"}},[e._v("Pure JS Integration Guide")]),e._v(" to understand how these artifacts are utilized by a SkillTree integrator\n"),n("ul",[n("li",[e._v("Majority of client code resides here, framework specific libraries are minimal wrappers around this pure JS implementation")]),e._v(" "),n("li",[e._v("Provides support for "),n("RouterLink",{attrs:{to:"/skills-client/js.html#skills-event-reporting"}},[e._v("Skill Event Reporting")]),e._v(", "),n("RouterLink",{attrs:{to:"/skills-client/js.html#skills-display"}},[e._v("Skills Display")]),e._v(" as well as "),n("RouterLink",{attrs:{to:"/skills-client/js.html#skills-configuration"}},[e._v("Skills Configuration")])],1)])],1),e._v(" "),n("li",[n("strong",[e._v("skills-client-vue:")]),e._v(" provides native support for Vue.js applications. This is a thin wrapper around skills-client-js; please see "),n("RouterLink",{attrs:{to:"/skills-client/vuejs.html"}},[e._v("Vue.js Integration Guide")]),e._v(" to understand how this library is utilized by a SkillTree integrator")],1),e._v(" "),n("li",[n("strong",[e._v("skills-client-react:")]),e._v(" provides native support for React applications. This is a thin wrapper around skills-client-js; please see "),n("RouterLink",{attrs:{to:"/skills-client/react.html"}},[e._v("React Integration Guide")]),e._v(" to understand how this library is utilized by a SkillTree integrator")],1),e._v(" "),n("li",[n("strong",[e._v("skills-client-angular:")]),e._v(" provides native support for Angular applications. This is a thin wrapper around skills-client-js; please see "),n("RouterLink",{attrs:{to:"/skills-client/angular.html"}},[e._v("Angular Integration Guide")]),e._v(" to understand how this library is utilized by a SkillTree integrator")],1),e._v(" "),n("li",[n("strong",[e._v("skills-client-integration:")]),e._v(" integration tests that enable comprehensive testing of skills-client-js and all of the framework specific libraries.\n"),n("ul",[n("li",[e._v("A set of web-applications that integrate and exercise these skills client libraries")]),e._v(" "),n("li",[e._v("Cypress tests that utilize these applications to end-to-end test functionality of the skills client libraries")])])])]),e._v(" "),n("p",[e._v("SkillTree uses "),n("a",{attrs:{href:"https://maven.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("maven"),n("OutboundLink")],1),e._v(" and "),n("a",{attrs:{href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("npm"),n("OutboundLink")],1),e._v(" for its dependency management and to facilitate the build lifecycle.  Let's get familiar with the projects layout:")]),e._v(" "),n("div",{staticClass:"language-markdown extra-class"},[n("pre",{pre:!0,attrs:{class:"language-markdown"}},[n("code",[e._v("skills-client\n└───skills-client-js\n|   │   package.json\n|   |   ....\n└───skills-client-react\n|   │   pom.xml\n|   │   package.json\n|   |   ....\n└───skills-client-vue\n|   │   package.json\n|   |   ....\n└───skills-client-integration\n│   │   pom.xml\n")])])]),n("p",[e._v("To build client libraries and run their unit tests:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-client-js\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run build\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v("/skills-client-react\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run build\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v("/skills-client-vue\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run build\n")])])]),n("p",[e._v("To build integration test artifacts:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-client-integration\nmvn "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n")])])]),n("p",[e._v("Several actions were performed in the "),n("code",[e._v("mvn install")]),e._v(" command:")]),e._v(" "),n("ul",[n("li",[e._v("client libraries were built")]),e._v(" "),n("li",[e._v("client libraries' unit tests were executed")]),e._v(" "),n("li",[e._v("integration apps were built (these apps utilize client libs)")]),e._v(" "),n("li",[e._v("This step does not execute end-to-end tests.")])]),e._v(" "),n("p",[e._v("End-to-end "),n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cypress.io"),n("OutboundLink")],1),e._v(" tests then exercise these integration applications in order to thoroughly test our client libraries.\nThe next section will break this process down in detail.")]),e._v(" "),n("h3",{attrs:{id:"cypress-io-end-to-end-tests-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cypress-io-end-to-end-tests-2"}},[e._v("#")]),e._v(" Cypress.io end-to-end tests")]),e._v(" "),n("p",[e._v("There are a number of challenges when integration testing client libraries.\nThese JS libraries themselves don't present an executable artifact since the purposes of them is to be utilized by the external web applications.")]),e._v(" "),n("p",[e._v("To enable end-to-end testing of skills-client-js and all of the framework specific libraries, we developed a set of web-applications that integrate and exercise these libraries.\nThese applications mimic real world integration and usage scenarios.\n"),n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cypress.io"),n("OutboundLink")],1),e._v(" is then used to execute numerous end-to-end tests against these web applications, ensuring that these libraries properly work in an integrated environment.")]),e._v(" "),n("p",[e._v("The code for the web applications that mimics real world usage and end-to-end "),n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cypress.io"),n("OutboundLink")],1),e._v(" tests resides in the "),n("code",[e._v("skills-client/skills-client-integration")]),e._v(" project.\nLet's take a look at its directory structure:")]),e._v(" "),n("div",{staticClass:"language-markdown extra-class"},[n("pre",{pre:!0,attrs:{class:"language-markdown"}},[n("code",[e._v("skills-client\n└───skills-client-integration\n│   │   pom.xml\n|   └───skills-int-client-js\n|   │   │   package.json\n|   │   │   pom.xml\n|   |   └───target\n|   └───skills-int-client-react\n|   │   │   package.json\n|   │   │   pom.xml\n|   |   └───target\n|   └───skills-int-client-vue\n|   │   │   package.json\n|   │   │   pom.xml\n|   |   └───target\n|   └───skills-int-e2e-test\n|   │   │   package.json\n|   │   │   pom.xml\n|   |   └───target\n|   |   |   skills-int-e2e-test-"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v(".jar\n|   └───skills-int-service\n|   │   │   pom.xml\n|   |   └───target\n|   |   |   skills-int-service-"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v(".jar\n")])])]),n("p",[e._v("Here is an explanation for each project:")]),e._v(" "),n("ul",[n("li",[n("strong",[e._v("skills-int-client-js")]),e._v(": Web application that depends on the skills-client-js artifact and mimics its real world usage")]),e._v(" "),n("li",[n("strong",[e._v("skills-int-client-react")]),e._v(": Web application that depends on the skills-client-react artifact and mimics its real world usage")]),e._v(" "),n("li",[n("strong",[e._v("skills-int-client-vue")]),e._v(": Web application that depends on the skills-client-vue artifact and mimics its real world usage")]),e._v(" "),n("li",[n("strong",[e._v("skills-int-service")]),e._v(": Pulls together all the web applications (skills-int-client-js, skills-int-client-vue, etc.) and exposes a web server to serve these applications. "),n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cypress.io"),n("OutboundLink")],1),e._v(" tests execute tests against this service.")]),e._v(" "),n("li",[n("strong",[e._v("skills-int-e2e-test")]),e._v(": "),n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cypress.io"),n("OutboundLink")],1),e._v(" tests that utilize skills-int-service to perform thorough end-to-end tests of the integrated libraries.")])]),e._v(" "),n("p",[e._v("To run "),n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cypress.io"),n("OutboundLink")],1),e._v(" tests you will need to")]),e._v(" "),n("ol",[n("li",[e._v("Start backend service\n"),n("ul",[n("li",[e._v("skills-service: REST data endpoints")]),e._v(" "),n("li",[e._v("serves Skills Display application")])])]),e._v(" "),n("li",[e._v("Start integration web applications (skills-int-service)")]),e._v(" "),n("li",[e._v("Run cypress tests")])]),e._v(" "),n("p",[e._v("Please visit the "),n("RouterLink",{attrs:{to:"/contribution/architecture.html#skilltree-repositories"}},[e._v("architecture")]),e._v(" section to further explore the relationship between these services.")],1),e._v(" "),n("p",[e._v("We are going to assume that you are versed in skills-service installation and development,\nbut if not please visit the "),n("RouterLink",{attrs:{to:"/contribution/devEnv.html#skills-service-development"}},[e._v("skills-service development")]),e._v(" section.\nCommands below assume:")],1),e._v(" "),n("ul",[n("li",[n("code",[e._v("skills-service-XXX.jar")]),e._v(" was generated and that skills-service and skills-client projects reside in the same parent directory.")]),e._v(" "),n("li",[n("code",[e._v("skills-int-service--XXX.jar")]),e._v(" was generated via earlier steps.")])]),e._v(" "),n("p",[e._v("To run cypress end-to-end tests:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-client/skills-client-integration/skills-int-e2e-test\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# will start skills-service and skills-int-service processes")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cyServices:start\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# run cypress integration tests")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cy:run\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# kill background servers (skills-service and skills-int-service)")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cyServices:kill \n")])])]),n("p",[e._v("Buckle down as these tests will take a while to run, and depending on your system specs you should expect anywhere from 2 to 15 minutes.")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("Please note that ports 8080 and 8090 have to be available on your system")])]),e._v(" "),n("p",[e._v("Now that you can build and run the integration tests let's discuss day-to-day development setup for the skill-client project.")]),e._v(" "),n("h3",{attrs:{id:"day-to-day-development-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#day-to-day-development-2"}},[e._v("#")]),e._v(" Day-to-day development")]),e._v(" "),n("p",[e._v("Most IDEs (Intellij, Eclipse, etc...) provide first-class support for maven projects so the very first step would be to import the skills-client project into your favorite IDE.")]),e._v(" "),n("p",[e._v("Let's first understand JS dependency chain.")]),e._v(" "),n("p",[n("img",{attrs:{src:s(387),alt:"JS Dependencies Image"}})]),e._v(" "),n("p",[e._v("The Diagram above depicts JS dependencies that can be traced using package.json files in each project."),n("br"),e._v("\nBecause we are authoring code across multiple projects in the dependency chain, a traditional "),n("a",{attrs:{href:"https://docs.npmjs.com/cli/publish",target:"_blank",rel:"noopener noreferrer"}},[e._v("npm-publish"),n("OutboundLink")],1),e._v(" approach falls short.\nWith the "),n("a",{attrs:{href:"https://docs.npmjs.com/cli/publish",target:"_blank",rel:"noopener noreferrer"}},[e._v("npm-publish"),n("OutboundLink")],1),e._v(" approach, in order to test the change, the artifact would have to be built and pushed to the npm repository.\nThen all of the projects that depend on this resource would have to be updated to point to it (package.json).\nAnd then any follow-on projects that depend on the updated projects need to be modified as well.\nThat is a large amount of overhead to test a potentially trivial change.")]),e._v(" "),n("p",[e._v("SkillsTree opted to utilize the "),n("a",{attrs:{href:"https://docs.npmjs.com/cli/link",target:"_blank",rel:"noopener noreferrer"}},[e._v("npm link"),n("OutboundLink")],1),e._v(" mechanism to work around this issue.\n"),n("code",[e._v("Npm link")]),e._v(" enables dependency on the local version of the code and will not require a new artifact version to be generated and published."),n("br"),e._v("\nThis way we can make changes to several projects in the chain then build and test them locally before committing.\nIt also reduces the number of versions we publish and reduces the risk of publishing JS libs with critical bugs.")]),e._v(" "),n("p",[e._v("We've created a script that facilitates "),n("code",[e._v("npm links")]),e._v(" for all the connections depicted in the above diagram:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-client/skills-client-integration/skills-int-e2e-test\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run dev:setupNpmLinks\n")])])]),n("p",[e._v("Now that links are  established you will be able to make changes to multiple JS projects then build them and see those changes persist.\nFor example "),n("code",[e._v("skills-int-client-vue")]),e._v(" depends on "),n("code",[e._v("skills-client-vue")]),e._v(", we can make a code change and see it right away:")]),e._v(" "),n("p",[e._v("Terminal 1:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-client/skills-client-integration/skills-int-client-vue\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run serve\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# view dev server on http://localhost:8091/vuejs/")]),e._v("\n")])])]),n("p",[e._v("Then make a code change in "),n("code",[e._v("skills-client/skills-client-vue")]),e._v(", followed by in")]),e._v(" "),n("p",[e._v("Terminal 2:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-client/skills-client-vue\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run build\n")])])]),n("p",[e._v("The change is automatically reflected in the dev server hosted on "),n("code",[e._v("http://localhost:8091/vuejs/")])]),e._v(" "),n("p",[e._v("What happened is that "),n("code",[e._v("npm run build")]),e._v(" in  "),n("code",[e._v("skills-client-vue")]),e._v("  created js artifacts in its "),n("code",[e._v("dist")]),e._v(" directory and\n"),n("code",[e._v("skills-int-client-vue")]),e._v(" points to that directory using the "),n("code",[e._v("npm-link")]),e._v(" mechanism.")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("Dependency Chain")]),e._v(" "),n("p",[e._v("Keep in mind that some of the projects have 2 levels of dependencies, for example\n"),n("code",[e._v("skills-int-client-vue")]),e._v(" depends on "),n("code",[e._v("skills-client-vue")]),e._v(" which depends on "),n("code",[e._v("skills-client-js")]),e._v(".\nIf you made a change in "),n("code",[e._v("skills-client-js")]),e._v(" and want to propagate it up to "),n("code",[e._v("skills-int-client-vue")]),e._v(" you will need to")]),e._v(" "),n("ol",[n("li",[e._v("execute "),n("code",[e._v("npm run build")]),e._v(" in "),n("code",[e._v("skills-client-js")])]),e._v(" "),n("li",[e._v("execute "),n("code",[e._v("npm run build")]),e._v(" in "),n("code",[e._v("skills-client-vue")]),e._v(".")])])]),e._v(" "),n("p",[e._v("Here is the summary of each client lib and its corresponding integration app.")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",[e._v("client lib")]),e._v(" "),n("th",[e._v("corresponding integration app")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("skills-client-js")]),e._v(" "),n("td",[e._v("skills-int-client-js")])]),e._v(" "),n("tr",[n("td",[e._v("skills-client-vue")]),e._v(" "),n("td",[e._v("skills-int-client-vue")])]),e._v(" "),n("tr",[n("td",[e._v("skills-client-react")]),e._v(" "),n("td",[e._v("skills-int-client-vue")])])])]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("Please note that you can start the development server from an integration app by executing "),n("code",[e._v("npm run serve")]),e._v(".")])]),e._v(" "),n("div",{staticClass:"custom-block danger"},[n("p",{staticClass:"custom-block-title"},[e._v("Exception to the Rule")]),e._v(" "),n("p",[n("code",[e._v("skills-int-client-js")]),e._v(" has a unique setup and requires that "),n("code",[e._v("npm install")]),e._v(" be run for its dependencies to be picked up!")]),e._v(" "),n("p",[e._v("This integration apps mimics a pure JS application without the use of webpack (uses "),n("code",[e._v("<script> tag")]),e._v(") so it packages all of its dependencies in the "),n("code",[e._v("assets")]),e._v(" directory.\n"),n("code",[e._v("npm install")]),e._v(" will copy dependencies from the "),n("code",[e._v("node_modules")]),e._v(" directory into its "),n("code",[e._v("assets")]),e._v(" folder.")])]),e._v(" "),n("p",[e._v("Now that we covered the JS dependencies challenges, as an example, let's walk through the steps of modifying code in the "),n("code",[e._v("skills-client-js")]),e._v(" project\nand then adding "),n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cypress.io"),n("OutboundLink")],1),e._v(" integration tests:")]),e._v(" "),n("ul",[n("li",[e._v("start the "),n("code",[e._v("skills-service")]),e._v(" daemon\n"),n("ul",[n("li",[e._v("if you have the project setup locally you can start it from the IDE OR")]),e._v(" "),n("li",[e._v("build the project and start it from the command line "),n("code",[e._v("npm run cyServices:start:skills-service")]),e._v(" in the "),n("code",[e._v("skills-int-e2e-test")]),e._v(" project")])])]),e._v(" "),n("li",[e._v("start the "),n("code",[e._v("skills-int-service")]),e._v(" daemon\n"),n("ul",[n("li",[e._v("start from your IDE OR")]),e._v(" "),n("li",[e._v("build the project and start it from the command line:")])])])]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-client/skills-client-integration/skills-int-e2e-test\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run integration:start\n")])])]),n("ul",[n("li",[e._v("start the development server of the corresponding integration app")])]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-client/skills-client-integration/skills-int-client-js\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run serve\n")])])]),n("ul",[n("li",[e._v("navigate to "),n("code",[e._v("skills-int-e2e-test")]),e._v(" and start the cypress dev console:")])]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-client/skills-client-integration/skills-int-e2e-test\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cy:open:dev:js\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("If you are working on a different client library, the "),n("code",[e._v("cy:open:dev:")]),e._v(" command will be different,\nfor example, if you are working on skills-client-vue, you would run "),n("code",[e._v("cy:open:dev:vue")])])]),e._v(" "),n("ul",[n("li",[e._v("run the test that corresponds to the integration app you are working on (in this case that would be ``js.specs.js```).")]),e._v(" "),n("li",[e._v("write new "),n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cypress.io"),n("OutboundLink")],1),e._v(" tests")])]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("The SkillTree development process focuses on providing full and comprehensive tests. As such, we encourage users to start any modifications by creating\na Cypress test. Starting via a test-first approach is also necessary to ensure that the required user configured for the "),n("code",[e._v("skills-int-service")]),e._v(" application is created.")]),e._v(" "),n("p",[e._v("If you attempt to access the examples application outside of a cypress test, you will notice that the Client Display and Level components will not properly render, and the network requests\nfor each component will receive a 500 error.")])]),e._v(" "),n("p",[e._v("The "),n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cypress.io"),n("OutboundLink")],1),e._v(" dev console command depends on which integration app you are using/testing:")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",[e._v("integration app")]),e._v(" "),n("th",[e._v("command")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("skills-int-client-js")]),e._v(" "),n("td",[e._v("npm run cy:open:dev:js")])]),e._v(" "),n("tr",[n("td",[e._v("skills-int-client-vue")]),e._v(" "),n("td",[e._v("npm run cy:open:dev:vue")])]),e._v(" "),n("tr",[n("td",[e._v("skills-int-client-react")]),e._v(" "),n("td",[e._v("npm run cy:open:dev:react")])])])]),e._v(" "),n("h3",{attrs:{id:"test-checklist-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#test-checklist-2"}},[e._v("#")]),e._v(" Test Checklist")]),e._v(" "),n("p",[e._v("Once you are done developing and writing tests then please follow these steps to run all the tests:")]),e._v(" "),n("ol",[n("li",[e._v("To test the latest/updated code make sure "),n("code",[e._v("npm links")]),e._v(" are up-to-date: (1) remove npm links (2) recreate")]),e._v(" "),n("li",[e._v("Build and run unit tests")]),e._v(" "),n("li",[e._v("Execute all "),n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cypress.io"),n("OutboundLink")],1),e._v(" integration tests")])]),e._v(" "),n("p",[e._v("To re-create the links:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-client/skills-client-integration/skills-int-e2e-test\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run dev:removeNpmLinks\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run dev:setupNpmLinks\n")])])]),n("p",[e._v("Build and run unit tests and then execute "),n("a",{attrs:{href:"https://www.cypress.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cypress.io"),n("OutboundLink")],1),e._v(" integration tests:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# build")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-client/skills-client-integration\nmvn "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" skills-int-e2e-test\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" prune \n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# will start skills-service and skills-int-service processes")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cyServices:start\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# run cypress integration tests")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cy:run\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# kill background servers")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" run cyServices:kill \n")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);