(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{539:function(e,t,a){"use strict";a.r(t);var s=a(51),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[e._v("#")]),e._v(" Configuration")]),e._v(" "),a("p",[e._v("Out-of-the-box the SkillTree service (skills-service) comes packaged with smart defaults that are designed to work well for\ndevelopment and prototyping. In this section we'll discuss how to configure each distribution type followed by the catalog of available options.")]),e._v(" "),a("p",[e._v("There are two official types of distributions:")]),e._v(" "),a("ul",[a("li",[e._v("Jar-based: hosted on "),a("external-url",{attrs:{label:"GitHub",url:"https://github.com/NationalSecurityAgency/skills-service/releases/latest"}})],1),e._v(" "),a("li",[e._v("Docker: hosted on "),a("external-url",{attrs:{label:"DockerHub",url:"https://hub.docker.com/r/skilltree/skills-service"}})],1)]),e._v(" "),a("p",[e._v("There are generally two types of configuration properties:")]),e._v(" "),a("ul",[a("li",[a("em",[e._v("Application properties")]),e._v(" - passed to the application")]),e._v(" "),a("li",[a("em",[e._v("JVM System properties")]),e._v(" - passed to JVM via "),a("code",[e._v("-D")]),e._v(" or "),a("code",[e._v("-X")]),e._v(" on the command line")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("Application properties conventions:")]),e._v(" "),a("ul",[a("li",[e._v("SkillTree specific properties start with a "),a("strong",[e._v("skills.")]),e._v(" prefix")]),e._v(" "),a("li",[e._v("Spring Boot specific properties start with a "),a("strong",[e._v("spring.")]),e._v(" prefix\n"),a("ul",[a("li",[e._v("skills-service is a Spring Boot application")])])])])]),e._v(" "),a("p",[e._v("Table of Contents:\n")]),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#how-to-configure-jar-based-install"}},[e._v("How to configure Jar-based install")])]),a("li",[a("a",{attrs:{href:"#how-to-configure-docker-based-install"}},[e._v("How to configure Docker-based install")])]),a("li",[a("a",{attrs:{href:"#configuration-properties-catalog"}},[e._v("Configuration Properties Catalog")]),a("ul",[a("li",[a("a",{attrs:{href:"#dashboard-project-and-skill-definitions"}},[e._v("Dashboard Project and Skill Definitions")])]),a("li",[a("a",{attrs:{href:"#dashboard-user-account-thresholds-pass-auth-mode-only"}},[e._v("Dashboard: User Account Thresholds (Pass Auth Mode Only)")])]),a("li",[a("a",{attrs:{href:"#skilltree-documentation-link"}},[e._v("SkillTree Documentation Link")])]),a("li",[a("a",{attrs:{href:"#skilltree-support"}},[e._v("SkillTree Support")])]),a("li",[a("a",{attrs:{href:"#dashboard-input-validation"}},[e._v("Dashboard: Input Validation")])]),a("li",[a("a",{attrs:{href:"#latency-profiling"}},[e._v("Latency Profiling")])]),a("li",[a("a",{attrs:{href:"#database"}},[e._v("Database")])]),a("li",[a("a",{attrs:{href:"#websocket-stomp-broker"}},[e._v("WebSocket Stomp Broker")])]),a("li",[a("a",{attrs:{href:"#jvm-heap"}},[e._v("JVM Heap")])]),a("li",[a("a",{attrs:{href:"#gc-logging"}},[e._v("GC Logging")])]),a("li",[a("a",{attrs:{href:"#httpstore"}},[e._v("HttpStore")])]),a("li",[a("a",{attrs:{href:"#https-ssl-pass-auth-mode-only"}},[e._v("https SSL (Pass Auth Mode Only)")])]),a("li",[a("a",{attrs:{href:"#email-verification-pass-auth-mode-only"}},[e._v("Email Verification (Pass Auth Mode Only)")])]),a("li",[a("a",{attrs:{href:"#_2-way-ssl-pki-mode-only"}},[e._v("2-way SSL (PKI Mode Only)")])]),a("li",[a("a",{attrs:{href:"#user-info-service-pki-mode-only"}},[e._v("User Info Service (PKI Mode Only)")])]),a("li",[a("a",{attrs:{href:"#oauth-support-pass-auth-mode-only"}},[e._v("OAuth Support (Pass Auth Mode Only)")])]),a("li",[a("a",{attrs:{href:"#progress-and-ranking-views"}},[e._v("Progress and Ranking Views")])]),a("li",[a("a",{attrs:{href:"#upgrade-in-progress-state"}},[e._v("Upgrade-In-Progress State")])]),a("li",[a("a",{attrs:{href:"#private-invite-only-projects"}},[e._v("Private Invite Only Projects")])]),a("li",[a("a",{attrs:{href:"#spring-boot-properties"}},[e._v("Spring Boot Properties")])])])])])]),a("p"),e._v(" "),a("h2",{attrs:{id:"how-to-configure-jar-based-install"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-configure-jar-based-install"}},[e._v("#")]),e._v(" How to configure Jar-based install")]),e._v(" "),a("p",[e._v("Pass in "),a("strong",[e._v("Application properties")]),e._v(" at the end, each property should start with "),a("code",[e._v("--")]),e._v(" (double dash), for example:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" ~/Downloads/skills-service-X.X.X.jar "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--spring.datasource.url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("jdbc:postgresql://"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("host"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(":5432/skills "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--spring.datasource.username")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("username"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--spring.datasource.password")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("pass"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),a("p",[e._v("Pass in "),a("strong",[e._v("JVM System properties")]),e._v(" before "),a("code",[e._v("-jar")]),e._v(", using "),a("code",[e._v("-D")]),e._v(" or "),a("code",[e._v("-X")]),e._v(" prefix, for example:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Xmx2G")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Xms2G")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" ~/Downloads/skills-service-X.X.X.jar\n")])])]),a("h2",{attrs:{id:"how-to-configure-docker-based-install"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-configure-docker-based-install"}},[e._v("#")]),e._v(" How to configure Docker-based install")]),e._v(" "),a("p",[e._v("The Docker-based install uses environment variables to configure Application and System properties:")]),e._v(" "),a("ul",[a("li",[a("em",[e._v("SPRING_PROPS")]),e._v(" - Application properties")]),e._v(" "),a("li",[a("em",[e._v("EXTRA_JAVA_OPTS")]),e._v(" - System properties")])]),e._v(" "),a("p",[e._v("The following example configures Application properties")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--name")]),e._v(" skills-service "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("8080")]),e._v(":8080 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-e")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("SPRING_PROPS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"\\\nspring.datasource.url=jdbc:postgresql://<host>:5432/skills,\\\nspring.datasource.username=<username>,\\\nspring.datasource.password=<password>"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\nskilltree/skills-service:"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("Multiple properties are separated by a comma")])]),e._v(" "),a("p",[e._v("This example configures both Application and System properties:")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--name")]),e._v(" skills-service "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-d")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("8080")]),e._v(":8080 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-e")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("SPRING_PROPS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"\\\nspring.datasource.url=jdbc:postgresql://<host>:5432/skills,\\\nspring.datasource.username=<username>,\\\nspring.datasource.password=<password>"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-e")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("EXTRA_JAVA_OPTS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"-Xmx2G -Xms2G"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\nskilltree/skills-service:"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),a("h2",{attrs:{id:"configuration-properties-catalog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration-properties-catalog"}},[e._v("#")]),e._v(" Configuration Properties Catalog")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("All of these properties are Application properties unless explicitly specified otherwise.")])]),e._v(" "),a("h3",{attrs:{id:"dashboard-project-and-skill-definitions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-project-and-skill-definitions"}},[e._v("#")]),e._v(" Dashboard Project and Skill Definitions")]),e._v(" "),a("p",[e._v("Limit number of items that a Dashboard user can create:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum projects that a single user can be administrator for")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxProjectsPerAdmin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("25")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of subjects in a project")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxSubjectsPerProject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("25")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of badges in a project")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxBadgesPerProject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("25")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of skills in a project")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxSkillsPerSubject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("100")]),e._v("\n")])])]),a("p",[e._v("When a project is first created it may not have enough total points to calculate a sensible levels breakdown."),a("br"),e._v("\nTherefore, Skill Events cannot be applied until a minimum amount of points have been created for a project/subject as specified by these properties:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Must create at least 100 points for project ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# before skill events are applied")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.minimumSubjectPoints")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("100")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Must create at least 100 points for each ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# subject before skill events are applied ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# for skills under this subject")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.minimumProjectPoints")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("100")]),e._v("\n")])])]),a("p",[e._v("Skill definition thresholds:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Skill's Time Window threshold: Maximum number of minutes that can be assigned ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# to skill's Time Window property (default: 43,200 minutes = 30 days)")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxTimeWindowInMinutes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("43200")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum assignable skill version")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxSkillVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("999")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# maximum point increment for a skill")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxPointIncrement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("10000")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# maximum number of iterations required to complete a skill")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxNumPerformToCompletion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("10000")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# maximum number of occurrences within a time window")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxNumPointIncrementMaxOccurrences")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("999")]),e._v("\n")])])]),a("h3",{attrs:{id:"dashboard-user-account-thresholds-pass-auth-mode-only"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-user-account-thresholds-pass-auth-mode-only"}},[e._v("#")]),e._v(" Dashboard: User Account Thresholds (Pass Auth Mode Only)")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of characters for the first name ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxFirstNameLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("30")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of characters for the last name")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxLastNameLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("30")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of characters for the primary name (aka nickname)")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxNicknameLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("70")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Minimum number of characters for the user name")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.minUsernameLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("5")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Minimum number of characters for the password")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.minPasswordLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("8")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of characters for the password")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxPasswordLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("40")]),e._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("These attributes are not applicable to the PKI Mode and will be ignored if PKI Mode is enabled")])]),e._v(" "),a("h3",{attrs:{id:"skilltree-documentation-link"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#skilltree-documentation-link"}},[e._v("#")]),e._v(" SkillTree Documentation Link")]),e._v(" "),a("p",[e._v("Root URL of SkillTree documentation:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.docsHost")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("https://code.nsa.gov/skills-docs")]),e._v("\n")])])]),a("h3",{attrs:{id:"skilltree-support"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#skilltree-support"}},[e._v("#")]),e._v(" SkillTree Support")]),e._v(" "),a("p",[e._v("You can display options for your users to reach out to the support team (ex. email, chat, ticketing center, etc).")]),e._v(" "),a("p",[e._v("Support options are displayed in the SkillTree Dashboard:")]),e._v(" "),a("ul",[a("li",[e._v("in the header under the "),a("code",[e._v("Question Icon")]),e._v(" dropdown,")]),e._v(" "),a("li",[e._v("in the footer of the application.")])]),e._v(" "),a("p",[e._v("More than one support option can be configured, here is a general template for configuring a support option:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.supportLink<N>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("<url>")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.supportLink<N>Label")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("<label>")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.supportLink<N>Icon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("<font awesome free icon>")]),e._v("\n")])])]),a("p",[e._v("For example:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.supportLink1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("mailto:skilltreecoolsupport@someemailserver.com")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.supportLink1Label")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("Email Us")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.supportLink1Icon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("fas fa-envelope-open-text")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.supportLink2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("https://skilltreecoolestsupportcenter.com")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.supportLink2Label")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("Support Center")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.supportLink2Icon")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("fas fa-ambulance")]),e._v("\n")])])]),a("p",[e._v("Any "),a("external-url",{attrs:{label:"Free Font Awesome Icons",url:"https://fontawesome.com/v5.15/icons?d=gallery&p=2&m=free"}}),e._v(" can be specified for the "),a("code",[e._v("skills.config.ui.supportLink<N>Icon")]),e._v(" property.")],1),e._v(" "),a("h3",{attrs:{id:"dashboard-input-validation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dashboard-input-validation"}},[e._v("#")]),e._v(" Dashboard: Input Validation")]),e._v(" "),a("p",[e._v("Here are some basic thresholds that are applied at the Dashboard UI and the backend:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of characters for a description (ex. Subject, Badge, Skill, etc..)")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.descriptionMaxLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("2000")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Minimum number of characters for the name (ex. Subject, Badge, Skill, etc..) ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.minNameLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("3")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of characters for Badge's name")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxBadgeNameLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("50")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of characters for Project's name")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxProjectNameLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("50")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of characters for Skill's name")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxSkillNameLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("100")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of characters for Subject's name")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxSubjectNameLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("50")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of characters for Level's name")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxLevelNameLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("50")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Minimum number of characters for id (ex. Subject, Badge, Skill, etc..)")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.minIdLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("3")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Maximum number of characters for id (ex. Subject, Badge, Skill, etc..)")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.maxIdLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("50")]),e._v("\n")])])]),a("p",[e._v("Regex based validation for Name and Description "),a("em",[e._v("(this validation is not enabled by default)")]),e._v(":")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Regular expression that each paragraph in the description must comply with")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.paragraphValidationRegex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Message to display if regex validation fails")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.paragraphValidationMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Regular expression that a name (ex. Subject, Badge, Skill, etc..) must comply with")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.nameValidationRegex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Message to display if regex validation fails")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.nameValidationMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v("\n")])])]),a("h3",{attrs:{id:"latency-profiling"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#latency-profiling"}},[e._v("#")]),e._v(" Latency Profiling")]),e._v(" "),a("p",[a("code",[e._v("skills-service")]),e._v(" comes with built-in latency profiling of its endpoints, to enable:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Enable profiling")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.prof.enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("true")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Profiling is only generated if endpoint's performance exceeds this number of milliseconds")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.prof.minMillisToPrint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("500")]),e._v("\n")])])]),a("p",[e._v("When enabled and an overall endpoint execution time exceeds "),a("code",[e._v("skills.prof.minMillisToPrint")]),e._v(" then the detailed call stack profiling is printed to the log.")]),e._v(" "),a("p",[e._v("Profiling statement will look something like this:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Profiling Endpoint: /admin/projects/Project1/users\n|-> getProjectUsers(projectId=Project1,query=,limit=5,page=1,orderBy=lastUpdated,ascending=false) (1) : 815ms [017ms]\n|     |-> AdminUsersService.findDistinctUsers (1) : 672ms\n|     |-> AdminUsersService.countTotalProjUsers (3) : 126ms\n")])])]),a("p",[e._v("The output provides method call hierarchy as well as the following information:")]),e._v(" "),a("ul",[a("li",[e._v("Total method execution time: number in ms, seconds and/or minutes")]),e._v(" "),a("li",[e._v("(N): number of times method was called, findDistinctUsers() was called once and countTotalProjUsers() called 3 times")]),e._v(" "),a("li",[e._v("[N ms]: execution time which was not accounted for by child methods/logic; this happens when either not all of the child methods/logic is profiled OR there is  GC or JVM overhead")])]),e._v(" "),a("p",[e._v("SkillTree profiling uses the "),a("external-url",{attrs:{label:"Call Stack Profiler",url:"https://github.com/NationalSecurityAgency/call-stack-profiler"}}),e._v(" library")],1),e._v(" "),a("p",[a("code",[e._v("skills-service")]),e._v(" also supports the "),a("external-url",{attrs:{label:"Server Timing API",url:"https://web.dev/custom-metrics/?utm_source=devtools#server-timing-api"}}),e._v(" and when enabled will set\nserver timing data in the response header. Most browsers visualize this timing data in their respective development tools. To enable, please set the following property:")],1),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.prof.serverTimingAPI.enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("true")]),e._v("\n")])])]),a("p",[e._v("In Chrome for example, open the development tools and navigate to the Network tab. Click on the skills-service endpoint and then click on the Timing Tab.\nOn the bottom you will see "),a("code",[e._v("Server Timing")]),e._v(" section which will contain overall endpoint execution time (from the server's point of view) and associated\nprofiling id that will allow you to locate the associated profiling statement in the logs.")]),e._v(" "),a("p",[e._v("For example, the name in the Chrome development tools will look something like this "),a("code",[e._v("profId1642707755421")]),e._v(" ("),a("code",[e._v("profId<id>")]),e._v(").\nTo locate the associated profiling statement you can search for the "),a("code",[e._v("profId=1642707755421")]),e._v(" ("),a("code",[e._v("profId=<id>")]),e._v("):")]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Profiling Endpoint: /admin/projects/Project1/users\n|-> getProjectUsers(projectId=Project1,query=,limit=5,page=1,orderBy=lastUpdated,ascending=false) profId=1642707755421 (1) : 815ms [017ms]\n|     |-> AdminUsersService.findDistinctUsers (1) : 672ms\n|     |-> AdminUsersService.countTotalProjUsers (1) : 126ms\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Please note")]),e._v(" "),a("ul",[a("li",[e._v("In order for the Server Timing API to work "),a("code",[e._v("skills.prof.enabled")]),e._v(" must be set to true")]),e._v(" "),a("li",[e._v("Profiling statements are only printed to the log if an overall endpoint execution time exceeds "),a("code",[e._v("skills.prof.minMillisToPrint")])])])]),e._v(" "),a("p",[e._v("Endpoint profiling printing threshold can be further customized / overridden per endpoint:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# You will need to know the name of the method to customize ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.prof.endpoints.<endpoint-method-name>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("1000")]),e._v("\n")])])]),a("p",[e._v("There are also configuration options to tweak profiling of the asynchronous jobs. Please note that the profiling of asynchronous jobs is always enabled.")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Async Job: Changes to the original skill (ex. description, occurrences) are automatically ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# synchronized to all the imported skills as well. Default is 2000")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.async.syncCatalogSkillDefinition.prof.minMillisToPrint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("2000")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Async Job: As skill occurrences are reported to the original project they are ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#also automatically propagated to the imported skills within other projects. Default is 500")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.async.reportSkill.prof.minMillisToPrint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("500")]),e._v("\n")])])]),a("h3",{attrs:{id:"database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#database"}},[e._v("#")]),e._v(" Database")]),e._v(" "),a("p",[e._v("Configure DB:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("spring.datasource.url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("spring.datasource.username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("spring.datasource.password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v("\n")])])]),a("h3",{attrs:{id:"websocket-stomp-broker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#websocket-stomp-broker"}},[e._v("#")]),e._v(" WebSocket Stomp Broker")]),e._v(" "),a("p",[e._v("Configure external WebSocket Stomp Broker:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.websocket.enableStompBrokerRelay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("true")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.websocket.relayHost")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.websocket.relayPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v("\n")])])]),a("h3",{attrs:{id:"jvm-heap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jvm-heap"}},[e._v("#")]),e._v(" JVM Heap")]),e._v(" "),a("p",[e._v("These are System Properties.")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("-Xms2g")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("-Xmx2g")]),e._v("\n")])])]),a("h3",{attrs:{id:"gc-logging"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gc-logging"}},[e._v("#")]),e._v(" GC Logging")]),e._v(" "),a("p",[e._v("These are System Properties.")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("-Xlog")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("gc=debug:file=./gc.log:time,uptime,level,tags:filecount=5,filesize=100m")]),e._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("Generally gc logging is only enabled in development deployments.")])]),e._v(" "),a("h3",{attrs:{id:"httpstore"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#httpstore"}},[e._v("#")]),e._v(" HttpStore")]),e._v(" "),a("p",[e._v("When deploying more than 1 instance of "),a("code",[e._v("skills-service")]),e._v(" HttpSession must be persisted centrally.\nSkillTree supports storing HttpSession in Postgres via JDBC or in Redis.")]),e._v(" "),a("p",[a("strong",[e._v("Option 1:")]),e._v(" HttpStore persisted in PostgreSQL (Recommended)")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("spring.session.store-type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("jdbc")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("spring.session.jdbc.initialize-schema")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("always")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Optional: can specify duration suffix but if omitted then it defaults to seconds")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("server.servlet.session.timeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" \n")])])]),a("p",[a("strong",[e._v("Option 2:")]),e._v(" HttpStore persisted in Redis")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("spring.session.store-type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("redis")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("spring.data.redis.host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("localhost")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("spring.data.redis.password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("spring.data.redis.port")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("6379 ")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Optional: Flush mode")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("spring.session.redis.flush-mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("on_save ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Optional: Stores session namespace to use for the keys")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("spring.session.redis.namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("spring:session ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Optional: can specify duration suffix but if omitted then it defaults to seconds")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("server.servlet.session.timeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" \n")])])]),a("h3",{attrs:{id:"https-ssl-pass-auth-mode-only"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#https-ssl-pass-auth-mode-only"}},[e._v("#")]),e._v(" https SSL (Pass Auth Mode Only)")]),e._v(" "),a("import-content",{attrs:{path:"/dashboard/install-guide/common/ssl-props.html"}}),e._v(" "),a("h3",{attrs:{id:"email-verification-pass-auth-mode-only"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#email-verification-pass-auth-mode-only"}},[e._v("#")]),e._v(" Email Verification (Pass Auth Mode Only)")]),e._v(" "),a("p",[e._v("You can enable verification of the email ownership when dashboard accounts are created by setting the following property:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.authorization.verifyEmailAddresses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("true")]),e._v("\n")])])]),a("p",[e._v("When a new account is created that user will be sent a verification email.\nThe user will have to click on the verification link in the email prior their login credentials can be used.")]),e._v(" "),a("h3",{attrs:{id:"_2-way-ssl-pki-mode-only"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-way-ssl-pki-mode-only"}},[e._v("#")]),e._v(" 2-way SSL (PKI Mode Only)")]),e._v(" "),a("import-content",{attrs:{path:"/dashboard/install-guide/common/two-way-ssl-props.html"}}),e._v(" "),a("h3",{attrs:{id:"user-info-service-pki-mode-only"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user-info-service-pki-mode-only"}},[e._v("#")]),e._v(" User Info Service (PKI Mode Only)")]),e._v(" "),a("p",[a("code",[e._v("User Info Service")]),e._v(" client properties:\n"),a("import-content",{attrs:{path:"/dashboard/install-guide/common/user-info-service-props-endpoints.html"}})],1),e._v(" "),a("p",[e._v("If "),a("code",[e._v("User Info Service")]),e._v(" utilizes 2-way SSL then add the following client authentication properties (Java System Properties):\n"),a("import-content",{attrs:{path:"/dashboard/install-guide/common/user-info-service-props-ssl.html"}})],1),e._v(" "),a("p",[e._v("If you are running with self-signed certs you can optionally disable host verification (development only):")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.disableHostnameVerifier")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("false")]),e._v("\n")])])]),a("h3",{attrs:{id:"oauth-support-pass-auth-mode-only"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oauth-support-pass-auth-mode-only"}},[e._v("#")]),e._v(" OAuth Support (Pass Auth Mode Only)")]),e._v(" "),a("import-content",{attrs:{path:"/dashboard/install-guide/common/oath2-support.html"}}),e._v(" "),a("h3",{attrs:{id:"progress-and-ranking-views"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#progress-and-ranking-views"}},[e._v("#")]),e._v(" Progress and Ranking Views")]),e._v(" "),a("p",[e._v("A single point of access for training profiles available to the user as well as user's current progress and ranking.\nThe Progress and Ranking views give a user access to the Skills Display for "),a("em",[e._v("all")]),e._v(" projects which have "),a("code",[e._v("Discoverable")]),e._v(" enabled\non that instance of the SkillTree platform. It provides a single point of access for training profiles available to the\nuser as well as a mechanism for Projects that consist entirely of self-reported Skills to provide access to the "),a("RouterLink",{attrs:{to:"/dashboard/user-guide/progress-and-ranking.html"}},[e._v("Ranking and Progress")]),e._v(" display\nfor their users.")],1),e._v(" "),a("p",[e._v("Progress and Ranking Views are disabled by default, but can be easily enabled:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# enable Progress and Ranking Views")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.rankingAndProgressViewsEnabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("true")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# optionally change default for the landing page (admin is the default)")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.ui.defaultLandingPage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("progress")]),e._v("\n")])])]),a("h3",{attrs:{id:"upgrade-in-progress-state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-in-progress-state"}},[e._v("#")]),e._v(" Upgrade-In-Progress State")]),e._v(" "),a("p",[e._v("In order to safely upgrade the database engine, SkillTree can be easily transitioned to a Upgrade-In-Progress state.\nWhen that happens:")]),e._v(" "),a("ul",[a("li",[e._v("the SkillTree Dashboard is placed into a read-only state: dashboard can be viewed and navigated but mutations will not be allowed")]),e._v(" "),a("li",[e._v("skill requests are retained in a Write-Ahead-Log (WAL) to be replayed after the upgrade is done")])]),e._v(" "),a("p",[e._v("Please configure the following properties in order to place "),a("code",[e._v("skills-service")]),e._v(" in the Upgrade-In-Progress state:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# place the SkillTree platform in the Upgrade-In-Progress state ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.config.db-upgrade-in-progress")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("true")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# specify the location of the directory where the Write-Ahead-Logs will be stored   ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.queued-event-path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("/queued_events")]),e._v("\n")])])]),a("p",[e._v("When the SkillTree Dashboard is started with the "),a("code",[e._v("skills.config.db-upgrade-in-progress")]),e._v(" property set to "),a("code",[e._v("true")]),e._v(" it will:")]),e._v(" "),a("ul",[a("li",[e._v("display a prominent banner on the top of the SkillTree Dashboard and any embedded Skills Display informing users that an upgrade is in progress")]),e._v(" "),a("li",[e._v("any mutation (ex. creating/editing skills/projects/badges, etc...) will redirect users to an informational page indicating that an upgrade is in progress")]),e._v(" "),a("li",[e._v("skill requests are accepted and stored in the WAL in the directory specified by the "),a("code",[e._v("skills.queued-event-path")]),e._v(" property")])]),e._v(" "),a("p",[e._v("General steps to upgrade the database engine:")]),e._v(" "),a("ol",[a("li",[e._v("start the new database on a different instance/node")]),e._v(" "),a("li",[e._v("transition SkillTree production instance to the Upgrade-In-Progress state")]),e._v(" "),a("li",[e._v("export data from the current production database instance")]),e._v(" "),a("li",[e._v("import data into the new database instance")]),e._v(" "),a("li",[e._v("reconfigure SkillTree production instance to point to the new database and turn off the Upgrade-In-Progress state\n"),a("ul",[a("li",[e._v("when the "),a("code",[e._v("skills-service")]),e._v(" is restarted it will replay the events stored in the WAL; the WAL files will then be removed")])])])]),e._v(" "),a("h3",{attrs:{id:"private-invite-only-projects"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#private-invite-only-projects"}},[e._v("#")]),e._v(" Private Invite Only Projects")]),e._v(" "),a("p",[e._v("In the case of Private Invite Only Projects, users are invited to join a project.\nInvited recipients are emailed a one-time invite code and by default that invite code can be used by any valid user.")]),e._v(" "),a("p",[e._v("When "),a("code",[e._v("skills.authorization.invite.validateEmail")]),e._v(" is set to "),a("code",[e._v("true")]),e._v(", the invite code is compared to the user's email address\nprior giving access to that private project.")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# when enabled, only users whose email addresses matche the one assigned to the invite token will be given access ")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[e._v("skills.authorization.invite.validateEmail")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[e._v("true")]),e._v("\n")])])]),a("h3",{attrs:{id:"spring-boot-properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#spring-boot-properties"}},[e._v("#")]),e._v(" Spring Boot Properties")]),e._v(" "),a("p",[a("code",[e._v("skills-service")]),e._v(" is a Spring Boot application and will respect the majority (if not all) of Spring Boot configuration properties."),a("br"),e._v("\nHere is the complete list of available "),a("external-url",{attrs:{label:"Spring Boot Properties",url:"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#data-properties"}})],1)],1)}),[],!1,null,null,null);t.default=r.exports}}]);